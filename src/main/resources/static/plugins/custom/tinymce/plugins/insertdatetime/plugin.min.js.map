{"version":3,"sources":["insertdatetime/plugin.min.js"],"names":["e","tinymce","util","Tools","resolve","u","getParam","translate","c","r","split","a","i","o","m","t","length","n","s","Date","replace","getFullYear","getYear","getMonth","getDate","getHours","getMinutes","getSeconds","getDay","l","test","dom","getParent","selection","getStart","create","datetime","parentNode","insertBefore","remove","select","collapse","insertContent","d","add","addCommand","get","set","ui","registry","addSplitButton","icon","tooltip","fetch","map","type","text","value","onAction","onItemAction","addNestedMenuItem","getSubmenuItems"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.6.2 (2020-12-08)\n */\n!function(){\"use strict\";var e=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),u=function(e){return e.getParam(\"insertdatetime_timeformat\",e.translate(\"%H:%M:%S\"))},c=function(e){return e.getParam(\"insertdatetime_formats\",[\"%H:%M:%S\",\"%Y-%m-%d\",\"%I:%M:%S %p\",\"%D\"])},r=\"Sun Mon Tue Wed Thu Fri Sat Sun\".split(\" \"),a=\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday\".split(\" \"),i=\"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\".split(\" \"),o=\"January February March April May June July August September October November December\".split(\" \"),m=function(e,t){if((e=\"\"+e).length<t)for(var n=0;n<t-e.length;n++)e=\"0\"+e;return e},s=function(e,t,n){return n=n||new Date,t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(\"%D\",\"%m/%d/%Y\")).replace(\"%r\",\"%I:%M:%S %p\")).replace(\"%Y\",\"\"+n.getFullYear())).replace(\"%y\",\"\"+n.getYear())).replace(\"%m\",m(n.getMonth()+1,2))).replace(\"%d\",m(n.getDate(),2))).replace(\"%H\",\"\"+m(n.getHours(),2))).replace(\"%M\",\"\"+m(n.getMinutes(),2))).replace(\"%S\",\"\"+m(n.getSeconds(),2))).replace(\"%I\",\"\"+((n.getHours()+11)%12+1))).replace(\"%p\",n.getHours()<12?\"AM\":\"PM\")).replace(\"%B\",\"\"+e.translate(o[n.getMonth()]))).replace(\"%b\",\"\"+e.translate(i[n.getMonth()]))).replace(\"%A\",\"\"+e.translate(a[n.getDay()]))).replace(\"%a\",\"\"+e.translate(r[n.getDay()]))).replace(\"%%\",\"%\")},l=function(e,t){var n,r,a,i,o,u,c,m;e.getParam(\"insertdatetime_element\",!1)?(n=s(e,t),r=void 0,r=/%[HMSIp]/.test(t)?s(e,\"%Y-%m-%dT%H:%M\"):s(e,\"%Y-%m-%d\"),(a=e.dom.getParent(e.selection.getStart(),\"time\"))?(o=a,u=r,c=n,m=(i=e).dom.create(\"time\",{datetime:u},c),o.parentNode.insertBefore(m,o),i.dom.remove(o),i.selection.select(m,!0),i.selection.collapse(!1)):e.insertContent('<time datetime=\"'+r+'\">'+n+\"</time>\")):e.insertContent(s(e,t))},t=function(t){t.addCommand(\"mceInsertDate\",function(){var e;l(t,(e=t).getParam(\"insertdatetime_dateformat\",e.translate(\"%Y-%m-%d\")))}),t.addCommand(\"mceInsertTime\",function(){l(t,u(t))})},d=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),n=function(n){var e,t,r,a,i=c(n),o=(a=c(r=n),e=0<a.length?a[0]:u(r),t=e,{get:function(){return t},set:function(e){t=e}});n.ui.registry.addSplitButton(\"insertdatetime\",{icon:\"insert-time\",tooltip:\"Insert date/time\",select:function(e){return e===o.get()},fetch:function(e){e(d.map(i,function(e){return{type:\"choiceitem\",text:s(n,e),value:e}}))},onAction:function(e){l(n,o.get())},onItemAction:function(e,t){o.set(t),l(n,t)}});n.ui.registry.addNestedMenuItem(\"insertdatetime\",{icon:\"insert-time\",text:\"Date/time\",getSubmenuItems:function(){return d.map(i,function(e){return{type:\"menuitem\",text:s(n,e),onAction:(t=e,function(){o.set(t),l(n,t)})};var t})}})};e.add(\"insertdatetime\",function(e){t(e),n(e)})}();"]}