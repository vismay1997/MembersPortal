{"version":3,"sources":["textpattern/plugin.min.js"],"names":["n","r","e","t","tinymce","util","Tools","resolve","u","Object","assign","arguments","length","o","prototype","hasOwnProperty","call","apply","this","a","i","f","c","s","l","isNone","fold","is","isSome","getOr","getOrThunk","getOrDie","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","equals","equals_","toArray","toString","d","y","some","none","from","m","Array","isPrototypeOf","constructor","name","String","g","p","h","v","slice","b","indexOf","k","O","w","C","push","E","R","N","keys","P","S","match","join","log","console","constructors","params","bothErrors","firstError","secondError","bothValues","errors","values","M","isValue","isError","mapError","toOptional","A","B","value","error","fromOption","D","type","I","j","start","sort","_","message","pattern","format","cmd","end","replacement","U","q","inlinePatterns","blockPatterns","V","window","Function","W","F","G","getParam","H","J","K","X","z","Q","container","offset","Y","nodeType","Node","TEXT_NODE","Z","isEmpty","parentNode","remove","$","startContainer","endContainer","deleteContents","data","tt","get","T","nt","rt","dom","getParent","isBlock","getBody","et","DOM","ot","at","backwards","it","textContent","ut","forwards","ct","childNodes","reverse","st","lt","pop","node","dt","document","createRange","setStart","setEnd","mt","createRng","gt","selection","getRng","replace","x","trim","range","getRoot","ht","vt","create","data-mce-type","id","yt","setStartAfter","setEndBefore","bt","endOffset","splitText","startOffset","prefix","insertBefore","kt","Ot","nodeName","getContentEditable","ft","substring","lastIndexOf","charAt","wt","position","matches","startRng","endRng","Ct","remainingPatterns","concat","substr","splice","Et","setRng","formatter","execCommand","Rt","collapsed","Tt","getBookmark","Date","getTime","Math","floor","random","endMarker","startMarker","xt","moveToBookmark","Nt","undoManager","transact","Pt","St","on","keyCode","modifierPressed","isCollapsed","add","extra","insertContent","pt","deleteData","preventDefault","charCodeAt","charCode","setEditorTimeout","set","setPatterns","JSON","stringify","getPatterns","L"],"mappings":"CAQC,WAAW,aAAa,IAA6QA,EAAEC,EAAEC,EAA7QC,EAAEC,QAAQC,KAAKC,MAAMC,QAAQ,yBAAyBC,EAAE,WAAW,OAAOA,EAAEC,OAAOC,QAAQ,SAASP,GAAG,IAAI,IAAIH,EAAEC,EAAE,EAAEC,EAAES,UAAUC,OAAOX,EAAEC,EAAED,IAAI,IAAI,IAAIY,KAAKb,EAAEW,UAAUV,GAAGQ,OAAOK,UAAUC,eAAeC,KAAKhB,EAAEa,KAAKV,EAAEU,GAAGb,EAAEa,IAAI,OAAOV,IAAIc,MAAMC,KAAKP,YAAsBE,EAAE,aAAaM,EAAE,SAAShB,GAAG,OAAO,WAAW,OAAOA,IAAIiB,EAAE,SAASjB,GAAG,OAAOA,GAAGkB,EAAEF,GAAE,GAAIG,EAAEH,GAAE,GAAII,EAAE,WAAW,OAAOC,GAAGA,GAAGxB,EAAE,SAASG,GAAG,OAAOA,EAAEsB,UAAU,CAACC,KAAK,SAASvB,EAAEH,GAAG,OAAOG,KAAKwB,GAAGN,EAAEO,OAAOP,EAAEI,OAAOH,EAAEO,MAAM3B,EAAE,SAASC,GAAG,OAAOA,GAAG2B,WAAW7B,EAAE,SAASE,GAAG,OAAOA,KAAK4B,SAAS,SAAS5B,GAAG,MAAM,IAAI6B,MAAM7B,GAAG,oCAAoC8B,UAAUd,EAAE,MAAMe,eAAef,OAAEgB,GAAWC,GAAGlC,EAAEmC,QAAQpC,EAAEqC,IAAIf,EAAEgB,KAAK1B,EAAE2B,KAAKjB,EAAEkB,OAAOpB,EAAEqB,OAAOpB,EAAEqB,OAAOpB,EAAEqB,OAAO5C,EAAE6C,QAAQ7C,EAAE8C,QAAQ,WAAW,MAAM,IAAIC,SAAS5B,EAAE,YAAY6B,EAAE,SAAS/C,GAAG,IAAIE,EAAEgB,EAAElB,GAAGD,EAAE,WAAW,OAAOa,GAAGX,EAAE,SAASC,GAAG,OAAOA,EAAEF,IAAIY,EAAE,CAACa,KAAK,SAASvB,EAAEH,GAAG,OAAOA,EAAEC,IAAI0B,GAAG,SAASxB,GAAG,OAAOF,IAAIE,GAAGyB,OAAON,EAAEG,OAAOJ,EAAEQ,MAAM1B,EAAE2B,WAAW3B,EAAE4B,SAAS5B,EAAE8B,UAAU9B,EAAE+B,eAAe/B,EAAEiC,GAAGpC,EAAEqC,QAAQrC,EAAEsC,IAAI,SAASnC,GAAG,OAAO6C,EAAE7C,EAAEF,KAAKsC,KAAK,SAASpC,GAAGA,EAAEF,IAAIuC,KAAKtC,EAAEuC,OAAOvC,EAAEwC,OAAOxC,EAAEyC,OAAO,SAASxC,GAAG,OAAOA,EAAEF,GAAGY,EAAEW,GAAGsB,QAAQ,WAAW,MAAM,CAAC7C,IAAI8C,SAAS,WAAW,MAAM,QAAQ9C,EAAE,KAAK2C,OAAO,SAASzC,GAAG,OAAOA,EAAEwB,GAAG1B,IAAI4C,QAAQ,SAAS1C,EAAEH,GAAG,OAAOG,EAAEuB,KAAKL,GAAE,SAASlB,GAAG,OAAOH,EAAEC,EAAEE,QAAO,OAAOU,GAAGoC,EAAE,CAACC,KAAKF,EAAEG,KAAK5B,EAAE6B,KAAK,SAASjD,GAAG,OAAO,MAAOA,EAAiBqB,EAAEwB,EAAE7C,KAAKkD,EAAE,SAASnD,GAAG,OAAO,SAASC,GAAG,OAAOF,SAASD,EAAEG,IAAI,OAAOH,EAAE,OAAO,UAAUC,IAAIqD,MAAMxC,UAAUyC,cAAcvD,IAAIA,EAAEwD,aAAa,UAAUxD,EAAEwD,YAAYC,MAAM,QAAQ,UAAUxD,IAAIyD,OAAO5C,UAAUyC,cAAcvD,IAAIA,EAAEwD,aAAa,WAAWxD,EAAEwD,YAAYC,MAAM,SAASxD,KAAKC,EAAE,IAAIF,EAAEC,IAAI0D,EAAEN,EAAE,UAAUO,EAAEP,EAAE,UAAUQ,EAAER,EAAE,SAASS,EAAER,MAAMxC,UAAUiD,MAAMC,EAAEV,MAAMxC,UAAUmD,QAAQC,EAAE,SAAS/D,EAAEH,GAAG,OAAOC,EAAEE,EAAED,EAAEF,GAAG,EAAEgE,EAAEhD,KAAKf,EAAEC,GAAG,IAAID,EAAEC,GAAGiE,EAAE,SAAShE,EAAEH,GAAG,IAAI,IAAIC,EAAEE,EAAES,OAAOV,EAAE,IAAIoD,MAAMrD,GAAGY,EAAE,EAAEA,EAAEZ,EAAEY,IAAI,CAAC,IAAIM,EAAEhB,EAAEU,GAAGX,EAAEW,GAAGb,EAAEmB,EAAEN,GAAG,OAAOX,GAAGkE,EAAE,SAASjE,EAAEH,GAAG,IAAI,IAAIC,EAAE,EAAEC,EAAEC,EAAES,OAAOX,EAAEC,EAAED,IAAKD,EAAEG,EAAEF,GAAGA,IAAKoE,EAAE,SAASlE,EAAEH,GAAG,IAAI,IAAIC,EAAE,GAAGC,EAAE,EAAEW,EAAEV,EAAES,OAAOV,EAAEW,EAAEX,IAAI,CAAC,IAAIiB,EAAEhB,EAAED,GAAGF,EAAEmB,EAAEjB,IAAID,EAAEqE,KAAKnD,GAAG,OAAOlB,GAAGsE,EAAE,SAASpE,EAAEH,EAAEC,GAAG,OAAO,SAASE,EAAEH,GAAG,IAAI,IAAIC,EAAEE,EAAES,OAAO,EAAE,GAAGX,EAAEA,IAAKD,EAAEG,EAAEF,IAAjD,CAAyDE,GAAE,SAASA,GAAGF,EAAED,EAAEC,EAAEE,MAAKF,GAAyJuE,EAAE,SAASrE,EAAEH,GAAG,IAAI,IAAIC,EAAE,EAAEC,EAAEC,EAAES,OAAOX,EAAEC,IAAID,EAAG,IAAG,IAAKD,EAAEG,EAAEF,GAAGA,GAAG,OAAM,EAAG,OAAM,GAAiFwE,EAAEhE,OAAOiE,KAAKC,EAAElE,OAAOM,eAAe6D,GAAG,SAASxD,GAAG,IAAIyC,EAAEzC,GAAG,MAAM,IAAIY,MAAM,0BAA0B,GAAG,IAAIZ,EAAER,OAAO,MAAM,IAAIoB,MAAM,mCAAmC,IAAIxB,EAAE,GAAGP,EAAE,GAAGmE,EAAEhD,GAAE,SAASjB,EAAED,GAAG,IAAIF,EAAEyE,EAAEtE,GAAG,GAAG,IAAIH,EAAEY,OAAO,MAAM,IAAIoB,MAAM,kCAAkC,IAAInB,EAAEb,EAAE,GAAGmB,EAAEhB,EAAEU,GAAG,QAAUsB,IAAPlC,EAAEY,GAAe,MAAM,IAAImB,MAAM,0BAA0BnB,GAAG,GAAG,SAASA,EAAE,MAAM,IAAImB,MAAM,yCAAyC,IAAI6B,EAAE1C,GAAG,MAAM,IAAIa,MAAM,mCAAmCxB,EAAE8D,KAAKzD,GAAGZ,EAAEY,GAAG,WAAW,IAAIV,EAAEQ,UAAUC,OAAO,GAAGT,IAAIgB,EAAEP,OAAO,MAAM,IAAIoB,MAAM,qCAAqCnB,EAAE,cAAcM,EAAEP,OAAO,KAAKO,EAAE,UAAUhB,GAAG,IAAI,IAAIF,EAAE,IAAIqD,MAAMnD,GAAGH,EAAE,EAAEA,EAAEC,EAAEW,OAAOZ,IAAIC,EAAED,GAAGW,UAAUX,GAAG,MAAM,CAAC0B,KAAK,WAAW,GAAGf,UAAUC,SAASQ,EAAER,OAAO,MAAM,IAAIoB,MAAM,+CAA+CZ,EAAER,OAAO,SAASD,UAAUC,QAAQ,OAAOD,UAAUT,GAAGe,MAAM,KAAKhB,IAAI4E,MAAM,SAAS1E,GAAG,IAAIH,EAAEyE,EAAEtE,GAAG,GAAGK,EAAEI,SAASZ,EAAEY,OAAO,MAAM,IAAIoB,MAAM,iDAAiDxB,EAAEsE,KAAK,KAAK,aAAa9E,EAAE8E,KAAK,MAAM,IAAIN,EAAEhE,GAAE,SAASL,GAAG,OAAO+D,EAAElE,EAAEG,MAAK,MAAM,IAAI6B,MAAM,gEAAgEhC,EAAE8E,KAAK,MAAM,eAAetE,EAAEsE,KAAK,OAAO,OAAO3E,EAAEU,GAAGI,MAAM,KAAKhB,IAAI8E,IAAI,SAAS5E,GAAG6E,QAAQD,IAAI5E,EAAE,CAAC8E,aAAazE,EAAEgD,YAAY3C,EAAEqE,OAAOjF,UAAvvC,CAAiwC,CAAC,CAACkF,WAAW,CAAC,SAAS,WAAW,CAACC,WAAW,CAAC,SAAS,WAAW,CAACC,YAAY,CAAC,SAAS,WAAW,CAACC,WAAW,CAAC,SAAS,aAAa,SAASnF,GAAG,IAAIH,EAAE,GAAGC,EAAE,GAAG,OAAOmE,EAAEjE,GAAE,SAASA,GAAGA,EAAEuB,MAAK,SAASvB,GAAGH,EAAEsE,KAAKnE,MAAI,SAASA,GAAGF,EAAEqE,KAAKnE,SAAO,CAACoF,OAAOvF,EAAEwF,OAAOvF,KAAKwF,EAAE,SAASxF,GAAG,MAAM,CAAC0B,GAAG,SAASxB,GAAG,OAAOF,IAAIE,GAAGuF,QAAQpE,EAAEqE,QAAQtE,EAAEQ,MAAMV,EAAElB,GAAG6B,WAAWX,EAAElB,GAAG8B,SAASZ,EAAElB,GAAGmC,GAAG,SAASjC,GAAG,OAAOsF,EAAExF,IAAIoC,QAAQ,SAASlC,GAAG,OAAOsF,EAAExF,IAAIyB,KAAK,SAASvB,EAAEH,GAAG,OAAOA,EAAEC,IAAIqC,IAAI,SAASnC,GAAG,OAAOsF,EAAEtF,EAAEF,KAAK2F,SAAS,SAASzF,GAAG,OAAOsF,EAAExF,IAAIsC,KAAK,SAASpC,GAAGA,EAAEF,IAAIuC,KAAK,SAASrC,GAAG,OAAOA,EAAEF,IAAIwC,OAAO,SAAStC,GAAG,OAAOA,EAAEF,IAAIyC,OAAO,SAASvC,GAAG,OAAOA,EAAEF,IAAI4F,WAAW,WAAW,OAAO5C,EAAEC,KAAKjD,MAAM6F,EAAE,SAAS7F,GAAG,MAAM,CAAC0B,GAAGN,EAAEqE,QAAQrE,EAAEsE,QAAQrE,EAAEO,MAAMT,EAAEU,WAAW,SAAS3B,GAAG,OAAOA,KAAK4B,SAAS,WAAW,OAAO5B,EAAEuD,OAAOzD,GAAG,WAAW,MAAM,IAAI+B,MAAM7B,GAA3B,GAAiC,IAAIA,GAAGiC,GAAG,SAASjC,GAAG,OAAOA,GAAGkC,QAAQ,SAASlC,GAAG,OAAOA,KAAKuB,KAAK,SAASvB,EAAEH,GAAG,OAAOG,EAAEF,IAAIqC,IAAI,SAASnC,GAAG,OAAO2F,EAAE7F,IAAI2F,SAAS,SAASzF,GAAG,OAAO2F,EAAE3F,EAAEF,KAAKsC,KAAK1B,EAAE2B,KAAK,SAASrC,GAAG,OAAO2F,EAAE7F,IAAIwC,OAAOpB,EAAEqB,OAAOpB,EAAEuE,WAAW5C,EAAEE,OAAO4C,EAAE,CAACC,MAAMP,EAAEQ,MAAMH,EAAEI,WAAW,SAAS/F,EAAEH,GAAG,OAAOG,EAAEuB,MAAK,WAAW,OAAOoE,EAAE9F,KAAIyF,KAAKU,EAAE,SAAShG,GAAG,MAAM,mBAAmBA,EAAEiG,MAAM,kBAAkBjG,EAAEiG,MAAMC,EAAE,SAASlG,GAAG,MAAM,kBAAkBA,EAAEiG,MAAM,iBAAiBjG,EAAEiG,MAAME,EAAE,SAASnG,GAAG,OAAOH,EAAEG,EAAEF,EAAE,SAASE,EAAEH,GAAG,OAAOG,EAAEoG,MAAM3F,SAASZ,EAAEuG,MAAM3F,OAAO,EAAET,EAAEoG,MAAM3F,OAAOZ,EAAEuG,MAAM3F,QAAQ,EAAE,IAAIV,EAAE4D,EAAE9C,KAAKhB,EAAE,IAAIwG,KAAKvG,GAAGC,EAAE,IAAIF,EAAEC,EAAEC,GAAGuG,EAAE,SAAS5F,GAAG,IAAIM,EAAE,SAAShB,GAAG,OAAO4F,EAAEE,MAAM,CAACS,QAAQvG,EAAEwG,QAAQ9F,KAAKV,EAAE,SAASA,EAAEH,EAAEC,GAAG,QAAckC,IAAXtB,EAAE+F,OAAmB,YAAezE,IAARtB,EAAEgG,IAAgBlD,EAAE9C,EAAEgG,KAAKd,EAAEC,MAAM/F,EAAEY,EAAEgG,IAAIhG,EAAEmF,QAAQ7E,EAAEhB,EAAE,2CAA2CgB,EAAEhB,EAAE,0DAA0D,IAAID,OAAE,EAAO,GAAG2D,EAAEhD,EAAE+F,QAAQ,CAAC,IAAIpC,EAAE3D,EAAE+F,OAAOjD,GAAG,OAAOxC,EAAEhB,EAAE,uDAAuDD,EAAEW,EAAE+F,WAAW,CAAC,IAAIjD,EAAE9C,EAAE+F,QAAQ,OAAOzF,EAAEhB,EAAE,8CAA8CD,EAAE,CAACW,EAAE+F,QAAQ,OAAOb,EAAEC,MAAMhG,EAAEE,KAAK,IAAI0D,EAAE/C,GAAG,OAAOM,EAAE,gCAAgC,IAAIwC,EAAE9C,EAAE0F,OAAO,OAAOpF,EAAE,4CAA4C,QAAWgB,IAARtB,EAAEiG,IAAgB,YAAuB3E,IAAhBtB,EAAEkG,YAAwBpD,EAAE9C,EAAEkG,aAAa,IAAIlG,EAAE0F,MAAM3F,OAAOO,EAAE,mDAAmD4E,EAAEC,MAAM,CAACI,KAAK,iBAAiBG,MAAM,GAAGO,IAAIjG,EAAE0F,MAAMM,IAAI,mBAAmBb,MAAMnF,EAAEkG,cAAc5F,EAAE,8DAA8D,IAAIN,EAAE0F,MAAM3F,OAAOO,EAAE,6CAA6ChB,EAAE,SAAQ,SAASA,GAAG,MAAM,CAACiG,KAAK,eAAeG,MAAM1F,EAAE0F,MAAMK,OAAOzG,EAAE,OAAK,SAASA,EAAEH,GAAG,MAAM,CAACoG,KAAK,gBAAgBG,MAAM1F,EAAE0F,MAAMM,IAAI1G,EAAE6F,MAAMhG,MAAK,IAAI2D,EAAE9C,EAAEiG,KAAK,OAAO3F,EAAE,iDAAiD,GAAG,IAAIN,EAAE0F,MAAM3F,QAAQ,IAAIC,EAAEiG,IAAIlG,OAAO,OAAOO,EAAE,yDAAyD,IAAIlB,EAAEY,EAAE0F,MAAMrG,EAAEW,EAAEiG,IAAI,OAAO,IAAI5G,EAAEU,SAASV,EAAED,EAAEA,EAAE,IAAIE,EAAE,UAAS,SAASA,GAAG,MAAM,CAACiG,KAAK,gBAAgBG,MAAMtG,EAAE6G,IAAI5G,EAAE0G,OAAOzG,MAAI,SAASA,EAAEH,GAAG,MAAM,CAACoG,KAAK,iBAAiBG,MAAMtG,EAAE6G,IAAI5G,EAAE2G,IAAI1G,EAAE6F,MAAMhG,OAAMgH,EAAE,SAAS7G,GAAG,MAAM,kBAAkBA,EAAEiG,KAAK,CAACG,MAAMpG,EAAEoG,MAAMM,IAAI1G,EAAE0G,IAAIb,MAAM7F,EAAE6F,OAAO,iBAAiB7F,EAAEiG,KAAK,CAACG,MAAMpG,EAAEoG,MAAMK,OAAOzG,EAAEyG,QAAQ,mBAAmBzG,EAAEiG,KAAK,qBAAqBjG,EAAE0G,KAAK,KAAK1G,EAAEoG,MAAM,CAACA,MAAMpG,EAAE2G,IAAIC,YAAY5G,EAAE6F,OAAO,CAACO,MAAMpG,EAAEoG,MAAMO,IAAI3G,EAAE2G,IAAID,IAAI1G,EAAE0G,IAAIb,MAAM7F,EAAE6F,OAAO,kBAAkB7F,EAAEiG,KAAK,CAACG,MAAMpG,EAAEoG,MAAMO,IAAI3G,EAAE2G,IAAIF,OAAO,IAAIzG,EAAEyG,OAAOhG,OAAOT,EAAEyG,OAAO,GAAGzG,EAAEyG,aAAQ,GAAQK,EAAE,SAAS9G,GAAG,MAAM,CAAC+G,eAAe7C,EAAElE,EAAEgG,GAAGgB,cAAcb,EAAEjC,EAAElE,EAAEkG,MAAgde,EAAE,oBAAoBC,OAAOA,OAAOC,SAAS,eAATA,GAA2BC,EAAE,WAAW,IAAI,IAAIpH,EAAE,GAAGH,EAAE,EAAEA,EAAEW,UAAUC,OAAOZ,IAAIG,EAAEH,GAAGW,UAAUX,GAAG,IAAIC,EAAEmH,EAAEpC,QAAQ/E,IAAIA,EAAEgG,MAAMhG,EAAEgG,MAAMhF,MAAMhB,EAAEE,GAAGF,EAAE8E,IAAI9D,MAAMhB,EAAEE,KAAKqH,EAAE,CAAC,CAACjB,MAAM,IAAIO,IAAI,IAAIF,OAAO,UAAU,CAACL,MAAM,KAAKO,IAAI,KAAKF,OAAO,QAAQ,CAACL,MAAM,IAAIK,OAAO,MAAM,CAACL,MAAM,KAAKK,OAAO,MAAM,CAACL,MAAM,MAAMK,OAAO,MAAM,CAACL,MAAM,OAAOK,OAAO,MAAM,CAACL,MAAM,QAAQK,OAAO,MAAM,CAACL,MAAM,SAASK,OAAO,MAAM,CAACL,MAAM,MAAMM,IAAI,qBAAqB,CAACN,MAAM,KAAKM,IAAI,uBAAuB,CAACN,MAAM,KAAKM,IAAI,wBAAwBY,EAAE,SAAStH,GAAG,IAAIH,EAAEG,EAAEuH,SAAS,oBAAoB,KAAK,OAAM,IAAK1H,EAAE,IAAG,IAAKA,EAAE,IAAIA,GAAG2H,EAAEvH,QAAQC,KAAKC,MAAMC,QAAQ,sBAAsBqH,EAAExH,QAAQC,KAAKC,MAAMC,QAAQ,mBAAmBsH,EAAEzH,QAAQC,KAAKC,MAAMC,QAAQ,sBAAsBuH,EAAE1H,QAAQC,KAAKC,MAAMC,QAAQ,wBAAwBwH,EAAE3H,QAAQC,KAAKC,MAAMC,QAAQ,0BAA0ByH,EAAE,SAAS7H,EAAEH,GAAG,MAAM,CAACiI,UAAU9H,EAAE+H,OAAOlI,IAAImI,EAAE,SAAShI,GAAG,OAAOA,EAAEiI,WAAWC,KAAKC,WAAWC,EAAE,SAASpI,EAAEH,EAAEC,GAAG,IAAIC,EAAEF,GAAGG,EAAEqI,QAAQxI,KAAKC,EAAED,KAAKE,EAAEF,EAAEyI,WAAWtI,EAAEuI,OAAO1I,GAAGuI,EAAEpI,EAAED,EAAED,KAAK0I,EAAE,SAASxI,EAAEH,EAAEC,EAAEC,QAAG,IAASA,IAAIA,GAAE,GAAI,IAAIW,EAAEb,EAAE4I,eAAeH,WAAWtH,EAAEnB,EAAE6I,aAAaJ,WAAWzI,EAAE8I,iBAAiB5I,IAAID,EAAED,EAAE4I,kBAAkBT,EAAEnI,EAAE4I,iBAAiB,IAAI5I,EAAE4I,eAAeG,KAAKnI,QAAQT,EAAEuI,OAAO1I,EAAE4I,gBAAgBT,EAAEnI,EAAE6I,eAAe,IAAI7I,EAAE6I,aAAaE,KAAKnI,QAAQT,EAAEuI,OAAO1I,EAAE6I,cAAcN,EAAEpI,EAAEU,EAAEZ,GAAGY,IAAIM,GAAGoH,EAAEpI,EAAEgB,EAAElB,KAAK+I,EAAG,SAAS7I,EAAEH,GAAG,IAAIC,EAAED,EAAEiJ,IAAI9I,GAAG,OAAO0D,EAAE5D,IAApoN,SAASE,GAAG,OAAOH,EAAEG,EAAK,EAASH,EAAEY,OAAOqC,EAAEC,KAAKlD,EAAzB,IAA+BiD,EAAEE,OAAO,IAAInD,EAAkkNkJ,CAAEjJ,GAAGwC,QAAO,SAAStC,GAAG,OAAOH,EAAEG,EAAI,QAAQwE,EAAE3D,KAAKhB,EAAf,SAAoB,IAAIA,MAAOmJ,EAAG,SAAShJ,GAAG,OAAO,IAAIA,EAAEoG,MAAM3F,QAAQwI,EAAG,SAASjJ,EAAEH,GAAG,IAAIC,EAAEgD,EAAEG,KAAKjD,EAAEkJ,IAAIC,UAAUtJ,EAAE4I,eAAezI,EAAEkJ,IAAIE,UAAU,MAAM,KAAK9B,EAAEtH,GAAGF,EAAEoC,SAAQ,WAAW,OAAOY,EAAEC,KAAK/C,EAAEqJ,cAAavJ,GAAGwJ,GAAG3B,EAAE4B,IAAIC,GAAG,SAAS3J,GAAG,OAAO,SAASG,GAAG,OAAOH,IAAIG,GAAG,EAAE,IAAIyJ,GAAG,SAASzJ,EAAEH,EAAEC,GAAG,GAAGkI,EAAEhI,IAAI,GAAGH,EAAE,OAAOiD,EAAEC,KAAK8E,EAAE7H,EAAEH,IAAI,IAAIE,EAAE6H,EAAE0B,IAAI,OAAOxG,EAAEG,KAAKlD,EAAE2J,UAAU1J,EAAEH,EAAE2J,GAAGxJ,GAAGF,IAAIqC,KAAI,SAASnC,GAAG,OAAO6H,EAAE7H,EAAE8H,UAAU9H,EAAE8H,UAAUc,KAAKnI,YAAWkJ,GAAG,SAAS3J,EAAEF,EAAEC,GAAG,IAAIiI,EAAEhI,GAAG,OAAO8C,EAAEE,OAAO,IAAInD,EAAEG,EAAE4J,YAAY,GAAG,GAAG9J,GAAGA,GAAGD,EAAEY,OAAO,OAAOqC,EAAEC,KAAK8E,EAAE7H,EAAEF,IAAI,IAAIY,EAAEkH,EAAE0B,IAAI,OAAOxG,EAAEG,KAAKvC,EAAEgJ,UAAU1J,EAAEF,EAAE0J,GAAGxJ,GAAGD,IAAIsC,MAAK,SAASrC,GAAG,IAAIH,EAAEG,EAAE8H,UAAUc,KAAK,OAAOe,GAAG3J,EAAE8H,UAAUhI,EAAED,EAAEY,OAAOV,OAAM8J,GAAG,SAAS7J,EAAEH,EAAEC,GAAG,IAAIkI,EAAEhI,GAAG,OAAO8C,EAAEE,OAAO,IAAIjD,EAAEC,EAAE4J,YAAY,GAAG/J,GAAGE,EAAEU,OAAO,OAAOqC,EAAEC,KAAK8E,EAAE7H,EAAEH,IAAI,IAAIa,EAAEkH,EAAE0B,IAAI,OAAOxG,EAAEG,KAAKvC,EAAEoJ,SAAS9J,EAAEH,EAAE2J,GAAGxJ,GAAGF,IAAIuC,MAAK,SAASrC,GAAG,OAAO6J,GAAG7J,EAAE8H,UAAUjI,EAAEE,EAAEU,OAAOX,OAAkMiK,GAAG,SAAS/J,EAAEH,EAAEC,GAAG,GAAGkI,EAAEnI,KAAKC,EAAE,GAAGA,EAAED,EAAE+I,KAAKnI,QAAQ,MAAM,GAAG,IAAI,IAAIV,EAAE,CAACD,GAAGY,EAAEb,EAAEa,IAAIV,GAAGU,EAAE4H,YAAY,CAAC,IAAI,IAAItH,EAAEN,EAAE4H,WAAWrH,EAAE,EAAEA,EAAED,EAAEgJ,WAAWvJ,OAAOQ,IAAI,GAAGD,EAAEgJ,WAAW/I,KAAKP,EAAE,CAACX,EAAEoE,KAAKlD,GAAG,MAAMP,EAAEM,EAAE,OAAON,IAAIV,EAAED,EAAEkK,UAAU,IAAIC,GAAG,SAASlK,EAAEH,EAAEC,EAAEC,EAAEW,GAAG,MAAM,CAAC0F,MAAM2D,GAAG/J,EAAEH,EAAEC,GAAG6G,IAAIoD,GAAG/J,EAAED,EAAEW,KAAKyJ,GAAG,SAASnK,EAAEH,GAAG,IAAIC,EAAEC,EAAEW,EAAEM,EAAEnB,EAAE+D,QAAQ3C,EAAED,EAAEoJ,MAAM,OAAOtK,EAAEkB,EAAEjB,EAAE,SAASC,EAAEH,GAAG,OAAOG,EAAEqC,MAAK,SAASrC,GAAG,OAAO8C,EAAEG,KAAKjD,EAAEgK,WAAWnK,QAAOa,EAAEoC,EAAEC,KAAK/C,GAAGiE,EAAEnE,GAAE,SAASE,GAAGU,EAAEX,EAAEW,EAAEV,MAAKU,GAAG2B,MAAK,SAASrC,GAAG,OAAOgI,EAAEhI,KAAKiB,EAAE,GAAGA,EAAEjB,EAAE4I,KAAKnI,QAAQqC,EAAEE,OAAOF,EAAEC,KAAK,CAACsH,KAAKrK,EAAE+H,OAAO9G,QAAOqJ,GAAG,SAASzK,EAAEC,GAAG,OAAOqK,GAAGtK,EAAEC,EAAEsG,OAAO/D,MAAK,SAASrC,GAAG,IAAIU,EAAEV,EAAEqK,KAAKrJ,EAAEhB,EAAE+H,OAAO,OAAOoC,GAAGtK,EAAEC,EAAE6G,KAAKxE,KAAI,SAASnC,GAAG,IAAIH,EAAEG,EAAEqK,KAAKvK,EAAEE,EAAE+H,OAAOhI,EAAEwK,SAASC,cAAc,OAAOzK,EAAE0K,SAAS/J,EAAEM,GAAGjB,EAAE2K,OAAO7K,EAAEC,GAAGC,SAAO4K,GAAG,SAAS5K,EAAEW,EAAEb,IAAG,SAAUG,EAAEH,EAAEC,GAAG,GAAGkI,EAAEhI,IAAuI,GAAhIA,EAAES,OAAO,OAAOqC,EAAEC,KAAK8E,EAAE7H,EAAuG,IAAjG,IAAID,EAAE6H,EAAE0B,IAAI,OAAOxG,EAAEG,KAAKlD,EAAE+J,SAAS9J,EAA4D,EAAxDwJ,GAAGxJ,GAAGF,IAAIqC,KAAI,SAASnC,GAAG,OAAO6H,EAAE7H,EAAE8H,UAAU,OAApJ,CAA2JpH,EAAE,EAAEA,GAAG0B,MAAK,SAASpC,GAAG,IAAIF,EAAEE,EAAE8H,UAAU+B,GAAG/J,EAAED,EAAEuG,MAAM3F,OAAOC,GAAG0B,MAAK,SAASpC,GAAG,IAAIH,EAAEE,EAAE6K,YAAY/K,EAAE4K,SAAS3K,EAAE,GAAGD,EAAE6K,OAAO1K,EAAE8H,UAAU9H,EAAE+H,QAAQS,EAAEzI,EAAEF,GAAE,SAASG,GAAG,OAAOA,IAAIU,YAASmK,GAAG,SAAS9K,EAAEiB,GAAG,IAAIC,EAAElB,EAAEmJ,IAAIlJ,EAAED,EAAE+K,UAAUC,SAAS,OAAO9B,EAAGlJ,EAAEC,GAAGwC,QAAO,SAASxC,GAAG,IAAIH,EAAEyH,EAAEvH,GAAGD,EAAE,KAAKD,GAAGoB,EAAEO,GAAGxB,EAAE,SAASiB,EAAEO,GAAGxB,EAAEH,GAAG,OAAO,OAAOG,GAAGF,KAAIuC,MAAK,SAASxC,GAAG,IAAIG,EAAEF,EAAEC,EAAEW,EAAEb,EAAE+J,YAAY,OAAO5J,EAAEgB,EAAEjB,GAAGD,EAAEY,GAAGsK,QAAQ,IAAO,KAAtyS,SAAShL,EAAEH,GAAG,OAAO,SAASG,EAAEH,EAAEC,GAAG,IAAI,IAAIC,EAAE,EAAEW,EAAEV,EAAES,OAAOV,EAAEW,EAAEX,IAAI,CAAC,IAAIiB,EAAEhB,EAAED,GAAG,GAAGF,EAAEmB,EAAEjB,GAAG,OAAO+C,EAAEC,KAAK/B,GAAG,GAAGlB,EAAEkB,EAAEjB,GAAG,MAAM,OAAO+C,EAAEE,OAA/G,CAAuHhD,EAAEH,EAAEqB,GAA2pS+J,CAAEjL,GAAE,SAASA,GAAG,OAAO,IAAIF,EAAEgE,QAAQ9D,EAAEoG,QAAQ,IAAIrG,EAAE+D,QAAQ9D,EAAEoG,WAAUjE,KAAI,SAASnC,GAAG,OAAO0H,EAAEwD,KAAKxK,GAAGD,SAAST,EAAEoG,MAAM3F,OAAO,GAAG,CAAC,CAAC+F,QAAQxG,EAAEmL,MAAMjB,GAAGjJ,EAAEmK,UAAUvL,EAAE,EAAEA,EAAE,WAAS6B,MAAM,KAAsf2J,GAAG,EAAEC,GAAG,SAAStL,EAAEH,GAAG,OAAOG,EAAEuL,OAAO,OAAO,CAACC,gBAAgB,WAAWC,GAAG5L,KAAK6L,GAAG,SAAS1L,EAAEH,GAAG,IAAIC,EAAEE,EAAE4K,YAAY,OAAO9K,EAAE6L,cAAc9L,EAAEuG,OAAOtG,EAAE8L,aAAa/L,EAAE8G,KAAK7G,GAAG+L,GAAG,SAAS7L,EAAEH,EAAEC,GAAG,IAAIC,EAAEuK,GAAGtK,EAAEoL,UAAUtL,GAAG8B,SAAS,gCAAgClB,EAAEX,EAAE0I,eAAezH,EAAEjB,EAAE2I,aAAazH,EAAE,IAAIlB,EAAE+L,UAAU9K,EAAEA,EAAE+K,UAAUhM,EAAE+L,WAAWzL,EAAE,IAAIN,EAAEiM,YAAYtL,EAAEA,EAAEqL,UAAUhM,EAAEiM,aAAa,MAAM,CAACC,OAAOpM,EAAE8G,IAAI1F,EAAEqH,WAAW4D,aAAaZ,GAAGtL,EAAEH,EAAE,QAAQoB,GAAGmF,MAAM/F,EAAEiI,WAAW4D,aAAaZ,GAAGtL,EAAEH,EAAE,UAAUQ,KAAK8L,GAAG,SAASnM,EAAEH,EAAEC,GAAGsI,EAAEpI,EAAEA,EAAE8I,IAAIjJ,EAAEoM,OAAO,QAAQnM,GAAGsI,EAAEpI,EAAEA,EAAE8I,IAAIjJ,EAAEoM,OAAO,UAAUnM,IAAIsM,GAAG,SAASrM,EAAEW,EAAEM,EAAEhB,GAAG,IAAIiB,EAAEZ,EAAEK,EAAE0F,MAAM,OAA7yF,SAASpG,EAAEH,EAAEC,EAAEC,EAAEW,GAAG,IAAIM,EAAEC,EAAE2G,EAAE5H,GAAGgB,EAAEhB,EAAE,SAASA,GAAG,OAAOgB,EAAEoI,QAAQpJ,IAAI+D,EAAE,CAAC,KAAK,MAAM,KAAK,SAAS/D,EAAEqM,WAAW,UAAUrL,EAAEsL,mBAAmBtM,MAAM,OAAO8C,EAAEG,KAAKhC,EAAEyI,UAAU7J,EAAEC,EAAEC,EAAEW,IAAgoF6L,CAAGxM,EAAEC,EAAE8H,UAAU9H,EAAE+H,QAAQ9G,EAAEZ,EAAE,SAASL,EAAEH,GAAG,IAAIC,EAAEE,EAAE4I,KAAK4D,UAAU,EAAE3M,GAAGE,EAAED,EAAE2M,YAAYxL,EAAEyL,OAAOzL,EAAER,OAAO,IAAIC,EAAEZ,EAAE2M,YAAYxL,GAAG,OAAO,IAAIP,EAAEA,EAAEO,EAAER,QAAQ,IAAIV,EAAEA,EAAE,GAAG,IAAIiB,GAAGqB,MAAK,SAASvC,GAAG,GAAGA,EAAEiI,QAAQ1H,EAAEI,OAAO,CAAC,IAAIT,EAAED,EAAE6K,YAAY,OAAO5K,EAAEyK,SAAS3K,EAAEgI,UAAUhI,EAAEiI,OAAO1H,EAAEI,QAAQT,EAAE0K,OAAO5K,EAAEgI,UAAUhI,EAAEiI,QAAQjF,EAAEC,KAAK/C,GAAG,IAAIH,EAAEC,EAAEiI,OAAO1H,EAAEI,OAAO,OAAOkJ,GAAG7J,EAAEgI,UAAUjI,EAAEmB,GAAGmB,KAAI,SAASnC,GAAG,IAAIH,EAAEE,EAAE6K,YAAY,OAAO/K,EAAE4K,SAASzK,EAAE8H,UAAU9H,EAAE+H,QAAQlI,EAAE6K,OAAO5K,EAAEgI,UAAUhI,EAAEiI,QAAQlI,KAAI2C,QAAO,SAASxC,GAAG,OAAOA,EAAE4C,aAAavC,KAAI6B,SAAQ,WAAW,OAAOkK,GAAGrM,EAAEW,EAAEM,EAAE6G,EAAE/H,EAAEgI,UAAU,WAAS6E,GAAG,SAAS3L,EAAEC,EAAEZ,GAAG,IAAIa,EAAEF,EAAEkI,IAAI/H,EAAED,EAAEkK,UAAUhK,EAAEf,EAAEmG,QAAQnF,EAAEhB,EAAEuM,SAAS9E,UAAUjF,EAAExC,EAAEuM,SAAS7E,OAAO,OAAO4B,GAAGtI,EAAEwB,EAAExC,EAAEmG,QAAQG,IAAIlG,OAAOQ,GAAGoB,MAAK,SAASrC,GAAG,IAAID,EAAEmK,GAAG/I,EAAEnB,EAAE8H,UAAU9H,EAAE+H,OAAO1G,EAAEwB,GAAG,GAAGmG,EAAG5H,GAAG,OAAO0B,EAAEC,KAAK,CAAC8J,QAAQ,CAAC,CAACrG,QAAQpF,EAAE0L,SAAS/M,EAAEgN,OAAOhN,IAAI6M,SAAS5M,IAAI,IAAIH,EAAEmN,GAAGhM,EAAEX,EAAE4M,kBAAkBjN,EAAE8H,UAAU9H,EAAE+H,OAAO9G,GAAGP,EAAEb,EAAE6B,MAAM,CAACmL,QAAQ,GAAGD,SAAS5M,IAAIF,EAAEY,EAAEkM,SAAS,OAAO,SAAS5M,EAAEF,EAAED,EAAEE,EAAEW,EAAEM,GAAG,QAAG,IAASA,IAAIA,GAAE,GAAI,IAAIlB,EAAEsG,MAAM3F,QAAQO,EAAE,OAAOyI,GAAG5J,EAAEE,EAAEW,GAAG2B,MAAK,SAASxC,GAAG,OAAOuM,GAAGpM,EAAEF,EAAEY,EAAEb,GAAGwC,MAAK,SAASrC,GAAG,GAAGgB,EAAE,CAAC,GAAGhB,EAAE0I,eAAe7I,EAAEiI,WAAW9H,EAAE8L,YAAYjM,EAAEkI,OAAO,OAAOjF,EAAEE,OAAO,GAAG,IAAInD,EAAEkI,QAAQ/H,EAAE0I,aAAakB,YAAYnJ,SAAST,EAAE8L,UAAU,OAAOhJ,EAAEE,OAAO,OAAOF,EAAEC,KAAK/C,SAAO,IAAIiB,EAAEjB,EAAE4K,YAAY,OAAO3J,EAAEwJ,SAAS5K,EAAEE,GAAGkB,EAAEyJ,OAAO7K,EAAEE,GAAG+C,EAAEC,KAAK9B,GAA5X,CAAgYC,EAAEE,EAAEtB,EAAEgI,UAAUhI,EAAEiI,OAAO9G,EAAEpB,EAAEyB,UAAUa,KAAI,SAASnC,GAAG,IAAIH,EAAEC,EAAEoK,GAAG/I,GAAGtB,EAAEG,GAAGyI,eAAe5I,EAAEmM,YAAYnM,EAAE6I,aAAa7I,EAAEiM,WAAW,MAAM,CAACe,QAAQnM,EAAEmM,QAAQK,OAAO,CAAC,CAAC1G,QAAQpF,EAAE0L,SAAShN,EAAEiN,OAAOhN,KAAK6M,SAAS/E,EAAE7H,EAAEyI,eAAezI,EAAEgM,qBAAmBgB,GAAG,SAASnK,EAAEK,EAAEM,EAAEC,EAAEC,GAAG,IAAIC,EAAEd,EAAEqG,IAAI,OAAOO,GAAGjG,EAAEC,EAAEE,EAAEyH,WAAW/I,MAAK,SAASrC,GAAG,IAAIH,EAAE8D,EAAEiH,YAAY/K,EAAE4K,SAAS/G,EAAE,GAAG7D,EAAE6K,OAAOlH,EAAEC,GAAG,IAAI,IAAI3D,EAAEC,EAAEW,EAAEM,EAAEC,EAAEZ,EAAER,EAAE+C,WAAW1B,EAAE,EAAEA,EAAEgC,EAAEzC,OAAOS,IAAI,CAAC,IAAIC,EAAE+B,EAAEhC,GAAG,GAAGpB,EAAEO,EAAcK,OAAE,EAAOM,EAArBjB,EAAEoB,EAAEwF,IAAqB1F,GAAGP,EAAEZ,GAAGW,OAAOV,EAAEU,OAAO,KAAKO,GAAGN,EAAED,QAAQO,EAAEP,QAAQC,EAAEyM,OAAOlM,EAAEA,EAAED,EAAEP,UAAUO,EAAE,CAAC,IAAII,EAAE8B,EAAEU,QAAQxC,EAAEgM,OAAOlM,EAAE,GAAG,IAAIG,EAAEsL,GAAG9J,EAAEa,EAAE,CAAC8C,QAAQrF,EAAE8L,kBAAkB7L,EAAEwL,SAAS5M,IAAI,GAAGqB,EAAEI,SAAS,OAAOJ,GAAG,OAAOyB,EAAEE,WAAUqK,GAAG,SAASxN,EAAEG,EAAEF,GAAGD,EAAEiL,UAAUwC,OAAOxN,GAAG,kBAAkBE,EAAEiG,KAAKhC,EAAEjE,EAAEyG,QAAO,SAASzG,GAAGH,EAAE0N,UAAUzM,MAAMd,MAAKH,EAAE2N,YAAYxN,EAAE0G,KAAI,EAAG1G,EAAE6F,QAAiZ4H,GAAG,SAAS3N,EAAEC,EAAEW,GAAG,IAAIM,EAAElB,EAAEgL,UAAUC,SAAS,OAAM,IAAK/J,EAAE0M,UAAU,GAAGzE,EAAGnJ,EAAEkB,GAAGqB,MAAK,SAASrC,GAAG,IAAIH,EAAEmB,EAAEgL,aAAatL,EAAE,EAAE,GAAG,OAAOsM,GAAGlN,EAAEC,EAAEiB,EAAEyH,eAAe5I,EAAEG,MAAKuB,MAAK,WAAW,MAAM,MAAI,SAASvB,GAAG,OAAOA,EAAE6M,YAAWc,GAAG,SAASzM,EAAElB,GAAG,IAAImB,EAAEtB,EAAEC,EAAE,IAAIE,EAAES,SAASU,EAAED,EAAEgI,IAAIrJ,EAAEqB,EAAE4J,UAAU8C,cAAc9N,EAAjrB,SAASY,EAAEV,GAAG,IAAMF,EAAEkB,GAAuBlB,GAAE,IAAK+N,MAAMC,UAAUjO,mBAAMkO,KAAKC,MAAM,IAAID,KAAKE,aAAa5C,GAAG9H,OAAOzD,IAAImB,EAAEmD,EAAEpE,GAAE,SAASA,EAAEH,GAAG,IAAIC,EAAE+L,GAAGnL,EAAEM,EAAE,OAAOhB,EAAES,OAAOZ,EAAEkN,QAAQ,OAAO/M,EAAEkN,OAAO,CAAC7M,EAAEA,EAAE,GAAGR,GAAG,CAACqO,UAAUpO,QAAO,IAAI,OAAOsE,EAAEnD,GAAE,SAASjB,EAAEH,GAAG,IAAIC,EAAEmB,EAAER,OAAOT,EAAES,OAAO,EAAEV,EAAEiJ,EAAGnJ,EAAE2G,SAAS3G,EAAEqO,UAAUrC,GAAGnL,EAAEM,EAAE,SAASlB,EAAED,EAAEiN,UAAU,OAAO9M,EAAEkN,OAAO,CAAC7M,EAAEA,EAAE,GAAGR,GAAG,CAACsO,YAAYpO,QAAO,IAAkTqO,CAAGjN,EAAEnB,GAAGiE,EAAEnE,GAAE,SAASE,GAAG,IAAIH,EAAEC,EAAEC,EAAEW,EAAEM,EAAEC,EAAEE,EAAEgI,UAAUnJ,EAAEmO,YAAY/H,MAAMjF,EAAEiI,SAAS/I,EAAE,SAASL,GAAG,OAAOA,IAAIiB,GAAG+H,EAAGhJ,EAAEwG,UAAU3G,EAAEqB,EAAEpB,EAAEE,EAAEwG,QAAQzG,EAAEC,EAAEkO,UAAUxN,EAAEL,EAAEW,EAAE0K,GAAG7L,EAAEqJ,IAAInJ,GAAGyI,EAAE3I,EAAEqJ,IAAIlI,EAAEN,GAAG2M,GAAGxN,EAAEC,EAAEkB,IAAI,SAAShB,EAAEH,EAAEC,EAAEC,EAAEW,GAAG,IAAIM,EAAEhB,EAAEkJ,IAAIjI,EAAEyK,GAAG1K,EAAEjB,GAAGM,EAAEqL,GAAG1K,EAAElB,GAAG0I,EAAExH,EAAEX,EAAEK,GAAG8H,EAAExH,EAAEC,EAAEP,GAAG,IAAIQ,EAAE,CAAC+K,OAAOnM,EAAEmM,OAAO7F,MAAMtG,EAAE6G,IAAIA,IAAI5G,EAAEqG,OAAOjF,EAAEuK,GAAG1K,EAAEE,GAAGmM,GAAGrN,EAAEH,EAAEsB,GAAvI,CAA2ID,EAAElB,EAAEwG,QAAQxG,EAAEmO,YAAYnO,EAAEkO,UAAU7N,GAAG8L,GAAGhL,EAAEnB,EAAEkO,UAAU7N,GAAG8L,GAAGhL,EAAEnB,EAAEmO,YAAY9N,MAAKa,EAAE4J,UAAUuD,eAAexO,KAAKyO,GAAG,SAAStO,EAAEH,GAAG,IAAIC,EAAE2N,GAAGzN,EAAEH,EAAEkH,gBAAe,GAAI,EAAEjH,EAAEW,QAAQT,EAAEuO,YAAYC,UAAS,WAAWb,GAAG3N,EAAEF,OAAM2O,GAAG,SAASzO,EAAEH,EAAEC,GAAG,IAAI,IAAIC,EAAE,EAAEA,EAAEC,EAAES,OAAOV,IAAI,GAAGD,EAAEE,EAAED,GAAGF,GAAG,OAAM,GAAI6O,GAAG,SAAS7O,EAAEC,GAAG,IAAIC,EAAE,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,KAAKW,EAAE,CAAC,IAAIb,EAAE8O,GAAG,WAAU,SAAS3O,GAAG,KAAKA,EAAE4O,SAASnH,EAAEoH,gBAAgB7O,KAAK,SAASF,EAAEE,GAAG,IAAIF,EAAEgL,UAAUgE,cAAc,OAAM,EAAG,IAAI/O,EAAE0N,GAAG3N,EAAEE,EAAE+G,gBAAe,GAAIrG,EAAEmK,GAAG/K,EAAEE,EAAEgH,eAAe,OAAO,EAAEtG,EAAED,QAAQ,EAAEV,EAAEU,UAAUX,EAAEyO,YAAYQ,MAAMjP,EAAEyO,YAAYS,OAAM,WAAWlP,EAAE0N,YAAY,uBAAqB,WAAW1N,EAAEmP,cAAc,UAAUtB,GAAG7N,EAAEC,GAA95J,SAASkB,EAAEjB,GAAG,IAAIH,EAAE,IAAIG,EAAES,SAASZ,EAAEoB,EAAE6J,UAAU8C,cAAc3J,EAAEjE,GAAE,SAASA,GAAG,OAAOF,EAAEE,EAAED,GAAGF,EAAEoB,GAAGiI,IAAIxI,EAAEZ,EAAE0G,QAAQxF,EAAEsJ,GAAGvK,EAAEqL,UAAUtL,EAAEqL,OAAOvJ,SAAS,gCAAgCqH,EAAGpJ,EAAEmB,GAAGoB,MAAK,SAASpC,GAAG,iBAAiBU,EAAEuF,KAAK4C,EAAGnI,EAAE+F,OAAO5G,EAAE0N,YAAY1N,EAAE0O,YAAYC,UAAS,WAAW7D,GAAG9K,EAAEqJ,IAAIlJ,EAAEU,GAAGb,EAAE0N,UAAUzM,MAAMJ,EAAE+F,WAAU,kBAAkB/F,EAAEuF,MAAMpG,EAAE0O,YAAYC,UAAS,WAAW7D,GAAG9K,EAAEqJ,IAAIlJ,EAAEU,GAAGb,EAAE2N,YAAY9M,EAAEgG,KAAI,EAAGhG,EAAEmF,aAAW,EAAE,IAAIhG,EAAEC,EAAEC,EAAEW,EAAEM,KAAIC,EAAE6J,UAAUuD,eAAexO,IAAw7IqP,CAAGpP,EAAEY,GAAG,IAAIV,EAAEF,EAAEgL,UAAUC,SAASlL,EAAE4J,GAAGzJ,EAAEyI,eAAezI,EAAEgM,YAAYlM,EAAEoJ,IAAIkC,WAAWtL,EAAE0N,YAAY,oBAAoB3N,EAAEuC,MAAK,SAASpC,GAAG,IAAIH,EAAEG,EAAE8H,UAAU,WAAWjI,EAAE+I,KAAK8D,OAAO1M,EAAE+H,OAAO,KAAKlI,EAAEsP,WAAWnP,EAAE+H,OAAO,EAAE,GAAGK,EAAEtI,EAAEoJ,IAAIrJ,EAAEyI,YAAW,SAAStI,GAAG,OAAOA,IAAIF,EAAEoJ,IAAIkC,qBAAiB,GAArjB,CAA0jBvL,EAAEC,EAAEgJ,QAAQ9I,EAAEoP,oBAAkB,GAAIvP,EAAE8O,GAAG,SAAQ,SAAS3O,GAAGyO,GAAG/N,EAAEV,GAAE,SAASA,EAAEH,GAAG,OAAOG,IAAIH,EAAE+O,UAAS,IAAKnH,EAAEoH,gBAAgBhP,OAAMyO,GAAGzO,EAAEC,EAAEgJ,UAASjJ,EAAE8O,GAAG,YAAW,SAAS3O,GAAGyO,GAAG1O,EAAEC,GAAE,SAASA,EAAEH,GAAG,OAAOG,EAAEqP,WAAW,KAAKxP,EAAEyP,aAAY9H,EAAE+H,iBAAiB1P,GAAE,WAAWyO,GAAGzO,EAAEC,EAAEgJ,cAAY9I,EAAE+O,IAAI,eAAc,SAAS/O,GAAG,IAAIH,EAAEC,EAAEC,GAAGF,EAAE,SAASG,GAAG,IAAIH,EAAEG,EAAEuH,SAAS,uBAAuBF,EAAE,SAAS,IAAI3D,EAAE7D,GAAG,OAAOuH,EAAE,uDAAuD,CAACL,eAAe,GAAGC,cAAc,IAAI,IAAIlH,EAAE2E,EAAET,EAAEnE,EAAEyG,IAAI,OAAOrC,EAAEnE,EAAEsF,QAAO,SAASpF,GAAG,OAAOoH,EAAEpH,EAAEuG,QAAQvG,EAAEwG,SAAS,KAAIM,EAAEhH,EAAEuF,QAAjQ,CAA0QrF,GAAGF,EAAED,EAAE,CAACiJ,IAAI,WAAW,OAAOhJ,GAAG0P,IAAI,SAASxP,GAAGF,EAAEE,KAAK,OAAO0O,GAAG1O,EAAED,GAAt1U,SAASA,GAAG,MAAM,CAAC0P,YAAY,SAASzP,GAAG,IAAIH,EAAE4E,EAAET,EAAEhE,EAAEsG,IAAI,GAAG,EAAEzG,EAAEuF,OAAO3E,OAAO,CAAC,IAAIX,EAAED,EAAEuF,OAAO,GAAG,MAAM,IAAIvD,MAAM/B,EAAEyG,QAAQ,MAAMmJ,KAAKC,UAAU7P,EAAE0G,QAAQ,KAAK,IAAIzG,EAAEyP,IAAI1I,EAAEjH,EAAEwF,UAAUuK,YAAY,WAAW,OAAO,WAAW,IAAI,IAAI5P,EAAE,EAAEH,EAAE,EAAEC,EAAEU,UAAUC,OAAOZ,EAAEC,EAAED,IAAIG,GAAGQ,UAAUX,GAAGY,OAAW,IAAIV,EAAEoD,MAAMnD,GAAGU,EAAE,EAArB,IAAuBb,EAAE,EAAEA,EAAEC,EAAED,IAAI,IAAI,IAAImB,EAAER,UAAUX,GAAGoB,EAAE,EAAEZ,EAAEW,EAAEP,OAAOQ,EAAEZ,EAAEY,IAAIP,IAAIX,EAAEW,GAAGM,EAAEC,GAAG,OAAOlB,EAAnL,CAAsLiE,EAAEjE,EAAE+I,MAAM/B,eAAeF,GAAG7C,EAAEjE,EAAE+I,MAAM9B,cAAcH,MAAw5TgJ,CAAE9P,MAAvhjB","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.6.2 (2020-12-08)\n */\n!function(){\"use strict\";var t=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),u=function(){return(u=Object.assign||function(t){for(var n,r=1,e=arguments.length;r<e;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};var n,r,e,o=function(){},a=function(t){return function(){return t}},i=function(t){return t},f=a(!1),c=a(!0),s=function(){return l},l=(n=function(t){return t.isNone()},{fold:function(t,n){return t()},is:f,isSome:f,isNone:c,getOr:e=function(t){return t},getOrThunk:r=function(t){return t()},getOrDie:function(t){throw new Error(t||\"error: getOrDie called on none.\")},getOrNull:a(null),getOrUndefined:a(undefined),or:e,orThunk:r,map:s,each:o,bind:s,exists:f,forall:c,filter:s,equals:n,equals_:n,toArray:function(){return[]},toString:a(\"none()\")}),d=function(r){var t=a(r),n=function(){return o},e=function(t){return t(r)},o={fold:function(t,n){return n(r)},is:function(t){return r===t},isSome:c,isNone:f,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return d(t(r))},each:function(t){t(r)},bind:e,exists:e,forall:e,filter:function(t){return t(r)?o:l},toArray:function(){return[r]},toString:function(){return\"some(\"+r+\")\"},equals:function(t){return t.is(r)},equals_:function(t,n){return t.fold(f,function(t){return n(r,t)})}};return o},y={some:d,none:s,from:function(t){return null===t||t===undefined?l:d(t)}},m=function(e){return function(t){return r=typeof(n=t),(null===n?\"null\":\"object\"==r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&\"Array\"===n.constructor.name)?\"array\":\"object\"==r&&(String.prototype.isPrototypeOf(n)||n.constructor&&\"String\"===n.constructor.name)?\"string\":r)===e;var n,r}},g=m(\"string\"),p=m(\"object\"),h=m(\"array\"),v=Array.prototype.slice,b=Array.prototype.indexOf,k=function(t,n){return r=t,e=n,-1<b.call(r,e);var r,e},O=function(t,n){for(var r=t.length,e=new Array(r),o=0;o<r;o++){var a=t[o];e[o]=n(a,o)}return e},w=function(t,n){for(var r=0,e=t.length;r<e;r++){n(t[r],r)}},C=function(t,n){for(var r=[],e=0,o=t.length;e<o;e++){var a=t[e];n(a,e)&&r.push(a)}return r},E=function(t,n,r){return function(t,n){for(var r=t.length-1;0<=r;r--){n(t[r],r)}}(t,function(t){r=n(r,t)}),r},x=function(t,n){return function(t,n,r){for(var e=0,o=t.length;e<o;e++){var a=t[e];if(n(a,e))return y.some(a);if(r(a,e))break}return y.none()}(t,n,f)},R=function(t,n){for(var r=0,e=t.length;r<e;++r){if(!0!==n(t[r],r))return!1}return!0},T=function(t){return n=t,(r=0)<=r&&r<n.length?y.some(n[r]):y.none();var n,r},N=Object.keys,P=Object.hasOwnProperty,S=(function(i){if(!h(i))throw new Error(\"cases must be an array\");if(0===i.length)throw new Error(\"there must be at least one case\");var u=[],r={};w(i,function(t,e){var n=N(t);if(1!==n.length)throw new Error(\"one and only one name per case\");var o=n[0],a=t[o];if(r[o]!==undefined)throw new Error(\"duplicate key detected:\"+o);if(\"cata\"===o)throw new Error(\"cannot have a case named cata (sorry)\");if(!h(a))throw new Error(\"case arguments must be an array\");u.push(o),r[o]=function(){var t=arguments.length;if(t!==a.length)throw new Error(\"Wrong number of arguments to case \"+o+\". Expected \"+a.length+\" (\"+a+\"), got \"+t);for(var r=new Array(t),n=0;n<r.length;n++)r[n]=arguments[n];return{fold:function(){if(arguments.length!==i.length)throw new Error(\"Wrong number of arguments to fold. Expected \"+i.length+\", got \"+arguments.length);return arguments[e].apply(null,r)},match:function(t){var n=N(t);if(u.length!==n.length)throw new Error(\"Wrong number of arguments to match. Expected: \"+u.join(\",\")+\"\\nActual: \"+n.join(\",\"));if(!R(u,function(t){return k(n,t)}))throw new Error(\"Not all branches were specified when using match. Specified: \"+n.join(\", \")+\"\\nRequired: \"+u.join(\", \"));return t[o].apply(null,r)},log:function(t){console.log(t,{constructors:u,constructor:o,params:r})}}}})}([{bothErrors:[\"error1\",\"error2\"]},{firstError:[\"error1\",\"value2\"]},{secondError:[\"value1\",\"error2\"]},{bothValues:[\"value1\",\"value2\"]}]),function(t){var n=[],r=[];return w(t,function(t){t.fold(function(t){n.push(t)},function(t){r.push(t)})}),{errors:n,values:r}}),M=function(r){return{is:function(t){return r===t},isValue:c,isError:f,getOr:a(r),getOrThunk:a(r),getOrDie:a(r),or:function(t){return M(r)},orThunk:function(t){return M(r)},fold:function(t,n){return n(r)},map:function(t){return M(t(r))},mapError:function(t){return M(r)},each:function(t){t(r)},bind:function(t){return t(r)},exists:function(t){return t(r)},forall:function(t){return t(r)},toOptional:function(){return y.some(r)}}},A=function(r){return{is:f,isValue:f,isError:c,getOr:i,getOrThunk:function(t){return t()},getOrDie:function(){return t=String(r),function(){throw new Error(t)}();var t},or:function(t){return t},orThunk:function(t){return t()},fold:function(t,n){return t(r)},map:function(t){return A(r)},mapError:function(t){return A(t(r))},each:o,bind:function(t){return A(r)},exists:f,forall:c,toOptional:y.none}},B={value:M,error:A,fromOption:function(t,n){return t.fold(function(){return A(n)},M)}},D=function(t){return\"inline-command\"===t.type||\"inline-format\"===t.type},I=function(t){return\"block-command\"===t.type||\"block-format\"===t.type},j=function(t){return n=t,r=function(t,n){return t.start.length===n.start.length?0:t.start.length>n.start.length?-1:1},(e=v.call(n,0)).sort(r),e;var n,r,e},_=function(o){var a=function(t){return B.error({message:t,pattern:o})},t=function(t,n,r){if(o.format===undefined)return o.cmd!==undefined?g(o.cmd)?B.value(r(o.cmd,o.value)):a(t+\" pattern has non-string `cmd` parameter\"):a(t+\" pattern is missing both `format` and `cmd` parameters\");var e=void 0;if(h(o.format)){if(!R(o.format,g))return a(t+\" pattern has non-string items in the `format` array\");e=o.format}else{if(!g(o.format))return a(t+\" pattern has non-string `format` parameter\");e=[o.format]}return B.value(n(e))};if(!p(o))return a(\"Raw pattern is not an object\");if(!g(o.start))return a(\"Raw pattern is missing `start` parameter\");if(o.end===undefined)return o.replacement!==undefined?g(o.replacement)?0===o.start.length?a(\"Replacement pattern has empty `start` parameter\"):B.value({type:\"inline-command\",start:\"\",end:o.start,cmd:\"mceInsertContent\",value:o.replacement}):a(\"Replacement pattern has non-string `replacement` parameter\"):0===o.start.length?a(\"Block pattern has empty `start` parameter\"):t(\"Block\",function(t){return{type:\"block-format\",start:o.start,format:t[0]}},function(t,n){return{type:\"block-command\",start:o.start,cmd:t,value:n}});if(!g(o.end))return a(\"Inline pattern has non-string `end` parameter\");if(0===o.start.length&&0===o.end.length)return a(\"Inline pattern has empty `start` and `end` parameters\");var r=o.start,e=o.end;return 0===e.length&&(e=r,r=\"\"),t(\"Inline\",function(t){return{type:\"inline-format\",start:r,end:e,format:t}},function(t,n){return{type:\"inline-command\",start:r,end:e,cmd:t,value:n}})},U=function(t){return\"block-command\"===t.type?{start:t.start,cmd:t.cmd,value:t.value}:\"block-format\"===t.type?{start:t.start,format:t.format}:\"inline-command\"===t.type?\"mceInsertContent\"===t.cmd&&\"\"===t.start?{start:t.end,replacement:t.value}:{start:t.start,end:t.end,cmd:t.cmd,value:t.value}:\"inline-format\"===t.type?{start:t.start,end:t.end,format:1===t.format.length?t.format[0]:t.format}:void 0},q=function(t){return{inlinePatterns:C(t,D),blockPatterns:j(C(t,I))}},L=function(e){return{setPatterns:function(t){var n=S(O(t,_));if(0<n.errors.length){var r=n.errors[0];throw new Error(r.message+\":\\n\"+JSON.stringify(r.pattern,null,2))}e.set(q(n.values))},getPatterns:function(){return function(){for(var t=0,n=0,r=arguments.length;n<r;n++)t+=arguments[n].length;for(var e=Array(t),o=0,n=0;n<r;n++)for(var a=arguments[n],i=0,u=a.length;i<u;i++,o++)e[o]=a[i];return e}(O(e.get().inlinePatterns,U),O(e.get().blockPatterns,U))}}},V=\"undefined\"!=typeof window?window:Function(\"return this;\")(),W=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=V.console;r&&(r.error?r.error.apply(r,t):r.log.apply(r,t))},F=[{start:\"*\",end:\"*\",format:\"italic\"},{start:\"**\",end:\"**\",format:\"bold\"},{start:\"#\",format:\"h1\"},{start:\"##\",format:\"h2\"},{start:\"###\",format:\"h3\"},{start:\"####\",format:\"h4\"},{start:\"#####\",format:\"h5\"},{start:\"######\",format:\"h6\"},{start:\"1. \",cmd:\"InsertOrderedList\"},{start:\"* \",cmd:\"InsertUnorderedList\"},{start:\"- \",cmd:\"InsertUnorderedList\"}],G=function(t){var n=t.getParam(\"forced_root_block\",\"p\");return!1===n?\"\":!0===n?\"p\":n},H=tinymce.util.Tools.resolve(\"tinymce.util.Delay\"),J=tinymce.util.Tools.resolve(\"tinymce.util.VK\"),K=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),X=tinymce.util.Tools.resolve(\"tinymce.dom.DOMUtils\"),z=tinymce.util.Tools.resolve(\"tinymce.dom.TextSeeker\"),Q=function(t,n){return{container:t,offset:n}},Y=function(t){return t.nodeType===Node.TEXT_NODE},Z=function(t,n,r){var e;n&&t.isEmpty(n)&&!r(n)&&(e=n.parentNode,t.remove(n),Z(t,e,r))},$=function(t,n,r,e){void 0===e&&(e=!0);var o=n.startContainer.parentNode,a=n.endContainer.parentNode;n.deleteContents(),e&&!r(n.startContainer)&&(Y(n.startContainer)&&0===n.startContainer.data.length&&t.remove(n.startContainer),Y(n.endContainer)&&0===n.endContainer.data.length&&t.remove(n.endContainer),Z(t,o,r),o!==a&&Z(t,a,r))},tt=function(t,n){var r=n.get(t);return h(r)&&T(r).exists(function(t){return n=t,r=\"block\",P.call(n,r);var n,r})},nt=function(t){return 0===t.start.length},rt=function(t,n){var r=y.from(t.dom.getParent(n.startContainer,t.dom.isBlock));return\"\"===G(t)?r.orThunk(function(){return y.some(t.getBody())}):r},et=X.DOM,ot=function(n){return function(t){return n===t?-1:0}},at=function(t,n,r){if(Y(t)&&0<=n)return y.some(Q(t,n));var e=z(et);return y.from(e.backwards(t,n,ot(t),r)).map(function(t){return Q(t.container,t.container.data.length)})},it=function(t,r,e){if(!Y(t))return y.none();var n=t.textContent;if(0<=r&&r<=n.length)return y.some(Q(t,r));var o=z(et);return y.from(o.backwards(t,r,ot(t),e)).bind(function(t){var n=t.container.data;return it(t.container,r+n.length,e)})},ut=function(t,n,r){if(!Y(t))return y.none();var e=t.textContent;if(n<=e.length)return y.some(Q(t,n));var o=z(et);return y.from(o.forwards(t,n,ot(t),r)).bind(function(t){return ut(t.container,n-e.length,r)})},ft=function(t,n,r,e,o){var a,i=z(t,(a=t,function(t){return a.isBlock(t)||k([\"BR\",\"IMG\",\"HR\",\"INPUT\"],t.nodeName)||\"false\"===a.getContentEditable(t)}));return y.from(i.backwards(n,r,e,o))},ct=function(t,n,r){if(Y(n)&&(r<0||r>n.data.length))return[];for(var e=[r],o=n;o!==t&&o.parentNode;){for(var a=o.parentNode,i=0;i<a.childNodes.length;i++)if(a.childNodes[i]===o){e.push(i);break}o=a}return o===t?e.reverse():[]},st=function(t,n,r,e,o){return{start:ct(t,n,r),end:ct(t,e,o)}},lt=function(t,n){var r,e,o,a=n.slice(),i=a.pop();return(r=a,e=function(t,n){return t.bind(function(t){return y.from(t.childNodes[n])})},o=y.some(t),w(r,function(t){o=e(o,t)}),o).bind(function(t){return Y(t)&&(i<0||i>t.data.length)?y.none():y.some({node:t,offset:i})})},dt=function(n,r){return lt(n,r.start).bind(function(t){var o=t.node,a=t.offset;return lt(n,r.end).map(function(t){var n=t.node,r=t.offset,e=document.createRange();return e.setStart(o,a),e.setEnd(n,r),e})})},mt=function(e,o,n){(function(t,n,r){if(Y(t)&&n>=t.length)return y.some(Q(t,n));var e=z(et);return y.from(e.forwards(t,n,ot(t),r)).map(function(t){return Q(t.container,0)})})(o,0,o).each(function(t){var r=t.container;ut(r,n.start.length,o).each(function(t){var n=e.createRng();n.setStart(r,0),n.setEnd(t.container,t.offset),$(e,n,function(t){return t===o})})})},gt=function(e,a){var i=e.dom,t=e.selection.getRng();return rt(e,t).filter(function(t){var n=G(e),r=\"\"===n&&i.is(t,\"body\")||i.is(t,n);return null!==t&&r}).bind(function(n){var t,r,e,o=n.textContent;return(t=a,e=(r=o).replace(\"\\xa0\",\" \"),x(t,function(t){return 0===r.indexOf(t.start)||0===e.indexOf(t.start)})).map(function(t){return K.trim(o).length===t.start.length?[]:[{pattern:t,range:st(i.getRoot(),n,0,n,0)}]})}).getOr([])},pt=function(i,t){var n;0!==t.length&&(n=i.selection.getBookmark(),w(t,function(t){return r=t,e=(n=i).dom,o=r.pattern,a=dt(e.getRoot(),r.range).getOrDie(\"Unable to resolve path range\"),rt(n,a).each(function(t){\"block-format\"===o.type?tt(o.format,n.formatter)&&n.undoManager.transact(function(){mt(n.dom,t,o),n.formatter.apply(o.format)}):\"block-command\"===o.type&&n.undoManager.transact(function(){mt(n.dom,t,o),n.execCommand(o.cmd,!1,o.value)})}),1;var n,r,e,o,a}),i.selection.moveToBookmark(n))},ht=0,vt=function(t,n){return t.create(\"span\",{\"data-mce-type\":\"bookmark\",id:n})},yt=function(t,n){var r=t.createRng();return r.setStartAfter(n.start),r.setEndBefore(n.end),r},bt=function(t,n,r){var e=dt(t.getRoot(),r).getOrDie(\"Unable to resolve path range\"),o=e.startContainer,a=e.endContainer,i=0===e.endOffset?a:a.splitText(e.endOffset),u=0===e.startOffset?o:o.splitText(e.startOffset);return{prefix:n,end:i.parentNode.insertBefore(vt(t,n+\"-end\"),i),start:u.parentNode.insertBefore(vt(t,n+\"-start\"),u)}},kt=function(t,n,r){Z(t,t.get(n.prefix+\"-end\"),r),Z(t,t.get(n.prefix+\"-start\"),r)},Ot=function(e,o,a,t){var i,u=o.start;return ft(e,t.container,t.offset,(i=u,function(t,n){var r=t.data.substring(0,n),e=r.lastIndexOf(i.charAt(i.length-1)),o=r.lastIndexOf(i);return-1!==o?o+i.length:-1!==e?e+1:-1}),a).bind(function(r){if(r.offset>=u.length){var t=e.createRng();return t.setStart(r.container,r.offset-u.length),t.setEnd(r.container,r.offset),y.some(t)}var n=r.offset-u.length;return it(r.container,n,a).map(function(t){var n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(r.container,r.offset),n}).filter(function(t){return t.toString()===u}).orThunk(function(){return Ot(e,o,a,Q(r.container,0))})})},wt=function(a,i,u){var f=a.dom,c=f.getRoot(),s=u.pattern,l=u.position.container,d=u.position.offset;return it(l,d-u.pattern.end.length,i).bind(function(t){var e=st(c,t.container,t.offset,l,d);if(nt(s))return y.some({matches:[{pattern:s,startRng:e,endRng:e}],position:t});var n=Ct(a,u.remainingPatterns,t.container,t.offset,i),o=n.getOr({matches:[],position:t}),r=o.position;return function(t,r,n,e,o,a){if(void 0===a&&(a=!1),0!==r.start.length||a)return at(n,e,o).bind(function(n){return Ot(t,r,o,n).bind(function(t){if(a){if(t.endContainer===n.container&&t.endOffset===n.offset)return y.none();if(0===n.offset&&t.endContainer.textContent.length===t.endOffset)return y.none()}return y.some(t)})});var i=t.createRng();return i.setStart(n,e),i.setEnd(n,e),y.some(i)}(f,s,r.container,r.offset,i,n.isNone()).map(function(t){var n,r=st(c,(n=t).startContainer,n.startOffset,n.endContainer,n.endOffset);return{matches:o.matches.concat([{pattern:s,startRng:r,endRng:e}]),position:Q(t.startContainer,t.startOffset)}})})},Ct=function(d,m,g,p,h){var v=d.dom;return at(g,p,v.getRoot()).bind(function(t){var n=v.createRng();n.setStart(h,0),n.setEnd(g,p);for(var r,e,o,a,i,u=n.toString(),f=0;f<m.length;f++){var c=m[f];if(r=u,e=c.end,i=a=o=void 0,a=e,i=(o=r).length-e.length,\"\"===a||o.length>=a.length&&o.substr(i,i+a.length)===a){var s=m.slice();s.splice(f,1);var l=wt(d,h,{pattern:c,remainingPatterns:s,position:t});if(l.isSome())return l}}return y.none()})},Et=function(n,t,r){n.selection.setRng(r),\"inline-format\"===t.type?w(t.format,function(t){n.formatter.apply(t)}):n.execCommand(t.cmd,!1,t.value)},xt=function(o,t){var n,r,a=(n=\"mce_textpattern\",r=(new Date).getTime(),n+\"_\"+Math.floor(1e9*Math.random())+ ++ht+String(r)),i=E(t,function(t,n){var r=bt(o,a+\"_end\"+t.length,n.endRng);return t.concat([u(u({},n),{endMarker:r})])},[]);return E(i,function(t,n){var r=i.length-t.length-1,e=nt(n.pattern)?n.endMarker:bt(o,a+\"_start\"+r,n.startRng);return t.concat([u(u({},n),{startMarker:e})])},[])},Rt=function(r,e,o){var a=r.selection.getRng();return!1===a.collapsed?[]:rt(r,a).bind(function(t){var n=a.startOffset-(o?1:0);return Ct(r,e,a.startContainer,n,t)}).fold(function(){return[]},function(t){return t.matches})},Tt=function(f,t){var c,n,r;0!==t.length&&(c=f.dom,n=f.selection.getBookmark(),r=xt(c,t),w(r,function(t){var n,r,e,o,a,i=c.getParent(t.startMarker.start,c.isBlock),u=function(t){return t===i};nt(t.pattern)?(n=f,r=t.pattern,e=t.endMarker,o=u,a=yt(n.dom,e),$(n.dom,a,o),Et(n,r,a)):function(t,n,r,e,o){var a=t.dom,i=yt(a,e),u=yt(a,r);$(a,u,o),$(a,i,o);var f={prefix:r.prefix,start:r.end,end:e.start},c=yt(a,f);Et(t,n,c)}(f,t.pattern,t.startMarker,t.endMarker,u),kt(c,t.endMarker,u),kt(c,t.startMarker,u)}),f.selection.moveToBookmark(n))},Nt=function(t,n){var r=Rt(t,n.inlinePatterns,!0);0<r.length&&t.undoManager.transact(function(){Tt(t,r)})},Pt=function(t,n,r){for(var e=0;e<t.length;e++)if(r(t[e],n))return!0},St=function(n,r){var e=[\",\",\".\",\";\",\":\",\"!\",\"?\"],o=[32];n.on(\"keydown\",function(t){13!==t.keyCode||J.modifierPressed(t)||!function(r,t){if(!r.selection.isCollapsed())return!1;var e=Rt(r,t.inlinePatterns,!1),o=gt(r,t.blockPatterns);return(0<o.length||0<e.length)&&(r.undoManager.add(),r.undoManager.extra(function(){r.execCommand(\"mceInsertNewLine\")},function(){r.insertContent(\"\\ufeff\"),Tt(r,e),pt(r,o);var t=r.selection.getRng(),n=at(t.startContainer,t.startOffset,r.dom.getRoot());r.execCommand(\"mceInsertNewLine\"),n.each(function(t){var n=t.container;\"\\ufeff\"===n.data.charAt(t.offset-1)&&(n.deleteData(t.offset-1,1),Z(r.dom,n.parentNode,function(t){return t===r.dom.getRoot()}))})}),!0)}(n,r.get())||t.preventDefault()},!0),n.on(\"keyup\",function(t){Pt(o,t,function(t,n){return t===n.keyCode&&!1===J.modifierPressed(n)})&&Nt(n,r.get())}),n.on(\"keypress\",function(t){Pt(e,t,function(t,n){return t.charCodeAt(0)===n.charCode})&&H.setEditorTimeout(n,function(){Nt(n,r.get())})})};t.add(\"textpattern\",function(t){var n,r,e=(n=function(t){var n=t.getParam(\"textpattern_patterns\",F,\"array\");if(!h(n))return W(\"The setting textpattern_patterns should be an array\"),{inlinePatterns:[],blockPatterns:[]};var r=S(O(n,_));return w(r.errors,function(t){return W(t.message,t.pattern),0}),q(r.values)}(t),r=n,{get:function(){return r},set:function(t){r=t}});return St(t,e),L(e)})}();"]}