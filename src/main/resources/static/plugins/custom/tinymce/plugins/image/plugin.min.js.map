{"version":3,"sources":["image/plugin.min.js"],"names":["t","e","n","r","o","a","tinymce","util","Tools","resolve","c","Object","assign","arguments","length","prototype","hasOwnProperty","call","apply","this","i","Array","isPrototypeOf","constructor","name","String","l","A","s","u","m","d","g","f","p","h","b","v","y","isNone","fold","is","isSome","getOr","getOrThunk","getOrDie","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","equals","equals_","toArray","toString","D","S","some","none","from","w","push","x","C","window","Function","console","error","setAttribute","dom","U","O","I","N","P","_","getParam","L","E","M","Math","max","parseInt","R","replace","z","test","H","margin","split","k","nodeName","hasAttribute","j","DOM","B","style","marginLeft","marginRight","F","marginTop","marginBottom","G","borderWidth","W","getAttribute","q","$","parentNode","J","removeAttribute","V","K","Z","Q","Y","ee","te","borderStyle","ne","re","getAttrib","oe","src","alt","title","width","height","class","caption","hspace","vspace","border","isDecorative","le","se","setAttrib","ue","ce","insertAfter","remove","create","appendChild","contentEditable","X","me","styles","parse","serialize","de","selection","getNode","getParent","select","ge","schema","getTextBlockElements","getBody","he","be","ve","ye","value","De","text","menu","items","we","Ae","Se","Te","Oe","convertURL","url","send","success","JSON","xe","then","image","imageList","classList","hasAdvTab","hasUploadTab","hasUploadUrl","hasUploadHandler","hasDescription","hasImageTitle","hasDimensions","hasImageCaption","basePath","credentials","handler","prependURL","hasAccessibilityOptions","automaticUploads","Ie","type","label","disabled","filetype","columns","Ne","Pe","Le","meta","images","dimensions","classes","borderstyle","fileinput","Ee","Re","getData","setData","ze","substring","Me","imageSize","open","prevImage","ke","block","T","unblock","URL","createObjectURL","XMLHttpRequest","withCredentials","upload","onprogress","loaded","total","onerror","status","onload","responseText","location","FormData","append","blob","filename","extend","message","reject","Ce","revokeObjectURL","showTab","FileReader","result","readAsDataURL","createBlobCache","alertErr","addToBlobCache","blobUri","je","prevAlt","He","parseStyle","serializeStyle","document","createElement","ie","normalizeCss","disable","enable","Fe","documentBaseURI","toAbsolute","removeChild","clientWidth","clientHeight","visibility","position","bottom","left","body","Ge","onSubmit","execCommand","editorUpload","uploadImagesAuto","close","blobCache","add","base64","windowManager","alert","size","tabs","inputMode","buttons","primary","initialData","onChange","onClose","Be","We","addCommand","undoManager","transact","nodeChanged","setAttribs","pe","focus","isEmpty","setContent","setCursorLocation","outerHTML","fe","qe","attr","getAll","on","parser","addNodeFilter","serializer","ui","registry","addToggleButton","icon","tooltip","onAction","onSetup","selectorChangedWithUnbind","setActive","unbind","addMenuItem","addContextMenu","update"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.6.2 (2020-12-08)\n */\n!function(){\"use strict\";var t,e,n,r,o,a=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(r){return function(e){return n=typeof(t=e),(null===t?\"null\":\"object\"==n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&\"Array\"===t.constructor.name)?\"array\":\"object\"==n&&(String.prototype.isPrototypeOf(t)||t.constructor&&\"String\"===t.constructor.name)?\"string\":n)===r;var t,n}},l=function(t){return function(e){return typeof e===t}},A=i(\"string\"),s=i(\"object\"),u=i(\"array\"),m=function(e){return t===e},d=l(\"boolean\"),g=l(\"number\"),f=function(){},p=function(e){return function(){return e}},h=p(!1),b=p(!(t=null)),v=function(){return y},y=(e=function(e){return e.isNone()},{fold:function(e,t){return e()},is:h,isSome:h,isNone:b,getOr:r=function(e){return e},getOrThunk:n=function(e){return e()},getOrDie:function(e){throw new Error(e||\"error: getOrDie called on none.\")},getOrNull:p(null),getOrUndefined:p(undefined),or:r,orThunk:n,map:v,each:f,bind:v,exists:h,forall:b,filter:v,equals:e,equals_:e,toArray:function(){return[]},toString:p(\"none()\")}),D=function(n){var e=p(n),t=function(){return a},r=function(e){return e(n)},a={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:b,isNone:h,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:t,orThunk:t,map:function(e){return D(e(n))},each:function(e){e(n)},bind:r,exists:r,forall:r,filter:function(e){return e(n)?a:y},toArray:function(){return[n]},toString:function(){return\"some(\"+n+\")\"},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(h,function(e){return t(n,e)})}};return a},S={some:D,none:v,from:function(e){return null===e||e===undefined?y:D(e)}},w=Array.prototype.push,x=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!u(e[n]))throw new Error(\"Arr.flatten item \"+n+\" was not an array, input: \"+e);w.apply(t,e[n])}return t},T=function(e){return t=e,(n=0)<=n&&n<t.length?S.some(t[n]):S.none();var t,n},C=(\"undefined\"!=typeof window||Function(\"return this;\")(),function(e,t,n){!function(e,t,n){if(!(A(n)||d(n)||g(n)))throw console.error(\"Invalid call to Attribute.set. Key \",t,\":: Value \",n,\":: Element \",e),new Error(\"Attribute value was not simple\");e.setAttribute(t,n+\"\")}(e.dom,t,n)}),U=function(e){if(null===e||e===undefined)throw new Error(\"Node cannot be null or undefined\");return{dom:e}},O={fromHtml:function(e,t){var n=(t||document).createElement(\"div\");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error(\"HTML does not have a single root node\",e),new Error(\"HTML must have a single root node\");return U(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return U(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return U(n)},fromDom:U,fromPoint:function(e,t,n){return S.from(e.dom.elementFromPoint(t,n)).map(U)}},I=tinymce.util.Tools.resolve(\"tinymce.dom.DOMUtils\"),N=tinymce.util.Tools.resolve(\"tinymce.util.Promise\"),P=tinymce.util.Tools.resolve(\"tinymce.util.XHR\"),_=function(e){return e.getParam(\"image_dimensions\",!0,\"boolean\")},L=function(e){return e.getParam(\"images_upload_url\",\"\",\"string\")},E=function(e){return e.getParam(\"images_upload_handler\",undefined,\"function\")},M=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},R=function(e){return e=e&&e.replace(/px$/,\"\")},z=function(e){return 0<e.length&&/^[0-9]+$/.test(e)&&(e+=\"px\"),e},H=function(e){if(e.margin){var t=String(e.margin).split(\" \");switch(t.length){case 1:e[\"margin-top\"]=e[\"margin-top\"]||t[0],e[\"margin-right\"]=e[\"margin-right\"]||t[0],e[\"margin-bottom\"]=e[\"margin-bottom\"]||t[0],e[\"margin-left\"]=e[\"margin-left\"]||t[0];break;case 2:e[\"margin-top\"]=e[\"margin-top\"]||t[0],e[\"margin-right\"]=e[\"margin-right\"]||t[1],e[\"margin-bottom\"]=e[\"margin-bottom\"]||t[0],e[\"margin-left\"]=e[\"margin-left\"]||t[1];break;case 3:e[\"margin-top\"]=e[\"margin-top\"]||t[0],e[\"margin-right\"]=e[\"margin-right\"]||t[1],e[\"margin-bottom\"]=e[\"margin-bottom\"]||t[2],e[\"margin-left\"]=e[\"margin-left\"]||t[1];break;case 4:e[\"margin-top\"]=e[\"margin-top\"]||t[0],e[\"margin-right\"]=e[\"margin-right\"]||t[1],e[\"margin-bottom\"]=e[\"margin-bottom\"]||t[2],e[\"margin-left\"]=e[\"margin-left\"]||t[3]}delete e.margin}return e},k=function(e){return\"IMG\"===e.nodeName&&(e.hasAttribute(\"data-mce-object\")||e.hasAttribute(\"data-mce-placeholder\"))},j=I.DOM,B=function(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?R(e.style.marginLeft):\"\"},F=function(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?R(e.style.marginTop):\"\"},G=function(e){return e.style.borderWidth?R(e.style.borderWidth):\"\"},W=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):\"\"},q=function(e,t){return e.style[t]?e.style[t]:\"\"},$=function(e){return null!==e.parentNode&&\"FIGURE\"===e.parentNode.nodeName},J=function(e,t,n){\"\"===n?e.removeAttribute(t):e.setAttribute(t,n)},X=function(e){var t,n,r,a;$(e)?(a=(r=e).parentNode,j.insertAfter(r,a),j.remove(a)):(t=e,n=j.create(\"figure\",{\"class\":\"image\"}),j.insertAfter(n,t),n.appendChild(t),n.appendChild(j.create(\"figcaption\",{contentEditable:\"true\"},\"Caption\")),n.contentEditable=\"false\")},V=function(e,t){var n=e.getAttribute(\"style\"),r=t(null!==n?n:\"\");0<r.length?(e.setAttribute(\"style\",r),e.setAttribute(\"data-mce-style\",r)):e.removeAttribute(\"style\")},K=function(e,r){return function(e,t,n){e.style[t]?(e.style[t]=z(n),V(e,r)):J(e,t,n)}},Z=function(e,t){return e.style[t]?R(e.style[t]):W(e,t)},Q=function(e,t){var n=z(t);e.style.marginLeft=n,e.style.marginRight=n},Y=function(e,t){var n=z(t);e.style.marginTop=n,e.style.marginBottom=n},ee=function(e,t){var n=z(t);e.style.borderWidth=n},te=function(e,t){e.style.borderStyle=t},ne=function(e){return\"FIGURE\"===e.nodeName},re=function(e){return 0===j.getAttrib(e,\"alt\").length&&\"presentation\"===j.getAttrib(e,\"role\")},ae=function(){return{src:\"\",alt:\"\",title:\"\",width:\"\",height:\"\",\"class\":\"\",style:\"\",caption:!1,hspace:\"\",vspace:\"\",border:\"\",borderStyle:\"\",isDecorative:!1}},ie=function(e,t){var n=document.createElement(\"img\");return J(n,\"style\",t.style),!B(n)&&\"\"===t.hspace||Q(n,t.hspace),!F(n)&&\"\"===t.vspace||Y(n,t.vspace),!G(n)&&\"\"===t.border||ee(n,t.border),!q(n,\"borderStyle\")&&\"\"===t.borderStyle||te(n,t.borderStyle),e(n.getAttribute(\"style\"))},oe=function(e,t){return{src:W(t,\"src\"),alt:re(n=t)?\"\":W(n,\"alt\"),title:W(t,\"title\"),width:Z(t,\"width\"),height:Z(t,\"height\"),\"class\":W(t,\"class\"),style:e(W(t,\"style\")),caption:$(t),hspace:B(t),vspace:F(t),border:G(t),borderStyle:q(t,\"borderStyle\"),isDecorative:re(t)};var n},le=function(e,t,n,r,a){n[r]!==t[r]&&a(e,r,n[r])},se=function(e,t,n){var r,a;n?(j.setAttrib(e,\"role\",\"presentation\"),r=O.fromDom(e),C(r,\"alt\",\"\")):(m(t)?(r=O.fromDom(e),a=\"alt\",r.dom.removeAttribute(a)):(r=O.fromDom(e),C(r,\"alt\",t)),\"presentation\"===j.getAttrib(e,\"role\")&&j.setAttrib(e,\"role\",\"\"))},ue=function(r,a){return function(e,t,n){r(e,n),V(e,a)}},ce=function(e,t,n){var r,a,i,o=oe(e,n);le(n,o,t,\"caption\",function(e,t,n){return X(e),0}),le(n,o,t,\"src\",J),le(n,o,t,\"title\",J),le(n,o,t,\"width\",K(0,e)),le(n,o,t,\"height\",K(0,e)),le(n,o,t,\"class\",J),le(n,o,t,\"style\",ue(function(e,t){return J(e,\"style\",t),0},e)),le(n,o,t,\"hspace\",ue(Q,e)),le(n,o,t,\"vspace\",ue(Y,e)),le(n,o,t,\"border\",ue(ee,e)),le(n,o,t,\"borderStyle\",ue(te,e)),r=n,a=o,(i=t).alt===a.alt&&i.isDecorative===a.isDecorative||se(r,i.alt,i.isDecorative)},me=function(e,t){var n=e.dom.styles.parse(t),r=H(n),a=e.dom.styles.parse(e.dom.styles.serialize(r));return e.dom.styles.serialize(a)},de=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,\"figure.image\");return n?e.dom.select(\"img\",n)[0]:t&&(\"IMG\"!==t.nodeName||k(t))?null:t},ge=function(t,e){var n=t.dom,r=n.getParent(e.parentNode,function(e){return!!t.schema.getTextBlockElements()[e.nodeName]},t.getBody());return r?n.split(r,e):e},fe=function(t,e){var n=function(e,t){var n=document.createElement(\"img\");if(ce(e,c(c({},t),{caption:!1}),n),se(n,t.alt,t.isDecorative),t.caption){var r=j.create(\"figure\",{\"class\":\"image\"});return r.appendChild(n),r.appendChild(j.create(\"figcaption\",{contentEditable:\"true\"},\"Caption\")),r.contentEditable=\"false\",r}return n}(function(e){return me(t,e)},e);t.dom.setAttrib(n,\"data-mce-id\",\"__mcenew\"),t.focus(),t.selection.setContent(n.outerHTML);var r,a=t.dom.select('*[data-mce-id=\"__mcenew\"]')[0];t.dom.setAttrib(a,\"data-mce-id\",null),ne(a)?(r=ge(t,a),t.selection.select(r)):t.selection.select(a)},pe=function(t,e){var n,r,a,i,o,l,s=de(t);ce(function(e){return me(t,e)},e,s),n=s,t.dom.setAttrib(n,\"src\",n.getAttribute(\"src\")),ne(s.parentNode)?(r=s.parentNode,ge(t,r),t.selection.select(s.parentNode)):(t.selection.select(s),a=t,i=e,l=function(){o.onload=o.onerror=null,a.selection&&(a.selection.select(o),a.nodeChanged())},(o=s).onload=function(){i.width||i.height||!_(a)||a.dom.setAttribs(o,{width:String(o.clientWidth),height:String(o.clientHeight)}),l()},o.onerror=l)},he=Object.prototype.hasOwnProperty,be=(o=function(e,t){return s(e)&&s(t)?be(e,t):t},function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error(\"Can't merge zero objects\");for(var n={},r=0;r<e.length;r++){var a=e[r];for(var i in a)he.call(a,i)&&(n[i]=o(n[i],a[i]))}return n}),ve=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),ye=function(e){return A(e.value)?e.value:\"\"},De=function(e,i){var o=[];return ve.each(e,function(e){var t,n,r,a=A((t=e).text)?t.text:A(t.title)?t.title:\"\";e.menu!==undefined?(n=De(e.menu,i),o.push({text:a,items:n})):(r=i(e),o.push({text:a,value:r}))}),o},we=function(t){return void 0===t&&(t=ye),function(e){return e?S.from(e).map(function(e){return De(e,t)}):S.none()}},Ae=function(e,n){return function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return S.none()}(e,function(e){return t=e,Object.prototype.hasOwnProperty.call(t,\"items\")?Ae(e.items,n):e.value===n?S.some(e):S.none();var t})},Se=we,xe=function(e){return we(ye)(e)},Te=function(e,t){return e.bind(function(e){return Ae(e,t)})};function Ce(o){var t=function(e,r,a,t){var i=new XMLHttpRequest;i.open(\"POST\",o.url),i.withCredentials=o.credentials,i.upload.onprogress=function(e){t(e.loaded/e.total*100)},i.onerror=function(){a(\"Image upload failed due to a XHR Transport error. Code: \"+i.status)},i.onload=function(){var e,t,n;i.status<200||300<=i.status?a(\"HTTP Error: \"+i.status):(e=JSON.parse(i.responseText))&&\"string\"==typeof e.location?r((t=o.basePath,n=e.location,t?t.replace(/\\/$/,\"\")+\"/\"+n.replace(/^\\//,\"\"):n)):a(\"Invalid JSON: \"+i.responseText)};var n=new FormData;n.append(\"file\",e.blob(),e.filename()),i.send(n)};return o=ve.extend({credentials:!1,handler:t},o),{upload:function(e){return o.url||o.handler!==t?(r=e,a=o.handler,new N(function(e,t){try{a(r,e,t,f)}catch(n){t(n.message)}})):N.reject(\"Upload url missing from the settings.\");var r,a}}}var Ue=function(e){return{title:\"Advanced\",name:\"advanced\",items:[{type:\"input\",label:\"Style\",name:\"style\"},{type:\"grid\",columns:2,items:[{type:\"input\",label:\"Vertical space\",name:\"vspace\",inputMode:\"numeric\"},{type:\"input\",label:\"Horizontal space\",name:\"hspace\",inputMode:\"numeric\"},{type:\"input\",label:\"Border width\",name:\"border\",inputMode:\"numeric\"},{type:\"listbox\",name:\"borderstyle\",label:\"Border style\",items:[{text:\"Select...\",value:\"\"},{text:\"Solid\",value:\"solid\"},{text:\"Dotted\",value:\"dotted\"},{text:\"Dashed\",value:\"dashed\"},{text:\"Double\",value:\"double\"},{text:\"Groove\",value:\"groove\"},{text:\"Ridge\",value:\"ridge\"},{text:\"Inset\",value:\"inset\"},{text:\"Outset\",value:\"outset\"},{text:\"None\",value:\"none\"},{text:\"Hidden\",value:\"hidden\"}]}]}]}},Oe=function(r){var t,e,a=Se(function(e){return r.convertURL(e.value||e.url,\"src\")}),n=new N(function(t){var n,e;n=function(e){t(a(e).map(function(e){return x([[{text:\"None\",value:\"\"}],e])}))},\"string\"==typeof(e=r.getParam(\"image_list\",!1))?P.send({url:e,success:function(e){n(JSON.parse(e))}}):\"function\"==typeof e?e(n):n(e)}),i=xe(r.getParam(\"image_class_list\")),o=r.getParam(\"image_advtab\",!1,\"boolean\"),l=r.getParam(\"image_uploadtab\",!0,\"boolean\"),s=!!L(r),u=!!E(r),c=(e=de(t=r))?oe(function(e){return me(t,e)},e):ae(),m=r.getParam(\"image_description\",!0,\"boolean\"),d=r.getParam(\"image_title\",!1,\"boolean\"),g=_(r),f=r.getParam(\"image_caption\",!1,\"boolean\"),p=r.getParam(\"a11y_advanced_options\",!1,\"boolean\"),h=L(r),b=r.getParam(\"images_upload_base_path\",undefined,\"string\"),v=r.getParam(\"images_upload_credentials\",!1,\"boolean\"),y=E(r),D=r.getParam(\"automatic_uploads\",!0,\"boolean\"),w=S.some(r.getParam(\"image_prepend_url\",\"\",\"string\")).filter(function(e){return A(e)&&0<e.length});return n.then(function(e){return{image:c,imageList:e,classList:i,hasAdvTab:o,hasUploadTab:l,hasUploadUrl:s,hasUploadHandler:u,hasDescription:m,hasImageTitle:d,hasDimensions:g,hasImageCaption:f,url:h,basePath:b,credentials:v,handler:y,prependURL:w,hasAccessibilityOptions:p,automaticUploads:D}})},Ie=function(e){var t=e.imageList.map(function(e){return{name:\"images\",type:\"listbox\",label:\"Image list\",items:e}}),n={name:\"alt\",type:\"input\",label:\"Alternative description\",disabled:e.hasAccessibilityOptions&&e.image.isDecorative},r=e.classList.map(function(e){return{name:\"classes\",type:\"listbox\",label:\"Class\",items:e}});return x([[{name:\"src\",type:\"urlinput\",filetype:\"image\",label:\"Source\"}],t.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[{type:\"label\",label:\"Accessibility\",items:[{name:\"isDecorative\",type:\"checkbox\",label:\"Image is decorative\"}]}]:[],e.hasDescription?[n]:[],e.hasImageTitle?[{name:\"title\",type:\"input\",label:\"Image title\"}]:[],e.hasDimensions?[{name:\"dimensions\",type:\"sizeinput\"}]:[],[{type:\"grid\",columns:2,items:x([r.toArray(),e.hasImageCaption?[{type:\"label\",label:\"Caption\",items:[{type:\"checkbox\",name:\"caption\",label:\"Show caption\"}]}]:[]])}]])},Ne=function(e){return{title:\"General\",name:\"general\",items:Ie(e)}},Pe=Ie,_e=function(e){return{title:\"Upload\",name:\"upload\",items:[{type:\"dropzone\",name:\"fileinput\"}]}},Le=function(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e[\"class\"],caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}},Ee=function(e,t){return{src:e.src.value,alt:0===e.alt.length&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,\"class\":e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}},Me=function(e,t){var n,r,a=t.getData();n=e,r=a.src.value,(/^(?:[a-zA-Z]+:)?\\/\\//.test(r)?S.none():n.prependURL.bind(function(e){return r.substring(0,e.length)!==e?S.some(e+r):S.none()})).each(function(e){t.setData({src:{value:e,meta:a.src.meta}})})},Re=function(e,t){var n,r,a,i,o=t.getData(),l=o.src.meta;l!==undefined&&(n=be({},o),a=n,i=l,(r=e).hasDescription&&A(i.alt)&&(a.alt=i.alt),r.hasAccessibilityOptions&&(a.isDecorative=i.isDecorative||a.isDecorative||!1),r.hasImageTitle&&A(i.title)&&(a.title=i.title),r.hasDimensions&&(A(i.width)&&(a.dimensions.width=i.width),A(i.height)&&(a.dimensions.height=i.height)),A(i[\"class\"])&&Te(r.classList,i[\"class\"]).each(function(e){a.classes=e.value}),r.hasImageCaption&&d(i.caption)&&(a.caption=i.caption),r.hasAdvTab&&(A(i.style)&&(a.style=i.style),A(i.vspace)&&(a.vspace=i.vspace),A(i.border)&&(a.border=i.border),A(i.hspace)&&(a.hspace=i.hspace),A(i.borderstyle)&&(a.borderstyle=i.borderstyle)),t.setData(n))},ze=function(e,t,n,r){var a,i,o,l,s,u,c,m,d,g,f,p;Me(t,r),Re(t,r),a=e,i=t,o=n,s=(l=r).getData(),u=s.src.value,(c=s.src.meta||{}).width||c.height||!i.hasDimensions||a.imageSize(u).then(function(e){o.open&&l.setData({dimensions:e})}),m=t,d=n,f=(g=r).getData(),p=Te(m.imageList,f.src.value),d.prevImage=p,g.setData({images:p.map(function(e){return e.value}).getOr(\"\")})},He=function(e,t,n){var r,a,i,o,l,s=H(e(n.style)),u=be({},n);return u.vspace=(r=s)[\"margin-top\"]&&r[\"margin-bottom\"]&&r[\"margin-top\"]===r[\"margin-bottom\"]?R(String(r[\"margin-top\"])):\"\",u.hspace=(a=s)[\"margin-right\"]&&a[\"margin-left\"]&&a[\"margin-right\"]===a[\"margin-left\"]?R(String(a[\"margin-right\"])):\"\",u.border=(i=s)[\"border-width\"]?R(String(i[\"border-width\"])):\"\",u.borderstyle=(o=s)[\"border-style\"]?String(o[\"border-style\"]):\"\",u.style=(l=t)(e(l(s))),u},ke=function(s,u,t,c){var e=c.getData();c.block(\"Uploading image\"),T(e.fileinput).fold(function(){c.unblock()},function(n){var r,a=URL.createObjectURL(n),i=Ce({url:u.url,basePath:u.basePath,credentials:u.credentials,handler:u.handler}),o=function(){c.unblock(),URL.revokeObjectURL(a)},l=function(e){c.setData({src:{value:e,meta:{}}}),c.showTab(\"general\"),ze(s,u,t,c)};r=n,new N(function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=function(){t(n.error.message)},n.readAsDataURL(r)}).then(function(e){var t=s.createBlobCache(n,a,e);u.automaticUploads?i.upload(t).then(function(e){l(e),o()})[\"catch\"](function(e){o(),s.alertErr(e)}):(s.addToBlobCache(t),l(t.blobUri()),c.unblock())})})},je=function(h,b,v){return function(e,t){var n,r,a,i,o,l,s,u,c,m,d,g,f,p;\"src\"===t.name?ze(h,b,v,e):\"images\"===t.name?(c=h,m=b,d=v,f=(g=e).getData(),(p=Te(m.imageList,f.images)).each(function(e){\"\"===f.alt||d.prevImage.map(function(e){return e.text===f.alt}).getOr(!1)?\"\"===e.value?g.setData({src:e,alt:d.prevAlt}):g.setData({src:e,alt:e.text}):g.setData({src:e})}),d.prevImage=p,ze(c,m,d,g)):\"alt\"===t.name?v.prevAlt=e.getData().alt:\"style\"===t.name?(o=h,s=(l=e).getData(),u=He(o.parseStyle,o.serializeStyle,s),l.setData(u)):\"vspace\"===t.name||\"hspace\"===t.name||\"border\"===t.name||\"borderstyle\"===t.name?(n=h,r=e,a=be(Le(b.image),r.getData()),i=ie(n.normalizeCss,Ee(a,!1)),r.setData({style:i})):\"fileinput\"===t.name?ke(h,b,v,e):\"isDecorative\"===t.name&&(e.getData().isDecorative?e.disable(\"alt\"):e.enable(\"alt\"))}},Be=function(i){return function(e){var t,n,r,a={prevImage:Te((t=e).imageList,t.image.src),prevAlt:t.image.alt,open:!0};return{title:\"Insert/Edit Image\",size:\"normal\",body:(r=e).hasAdvTab||r.hasUploadUrl||r.hasUploadHandler?{type:\"tabpanel\",tabs:x([[Ne(r)],r.hasAdvTab?[Ue(r)]:[],r.hasUploadTab&&(r.hasUploadUrl||r.hasUploadHandler)?[_e(r)]:[]])}:{type:\"panel\",items:Pe(r)},buttons:[{type:\"cancel\",name:\"cancel\",text:\"Cancel\"},{type:\"submit\",name:\"save\",text:\"Save\",primary:!0}],initialData:Le(e.image),onSubmit:i.onSubmit(e),onChange:je(i,e,a),onClose:(n=a,function(){n.open=!1})}}},Fe=function(t){return function(e){return a=t.documentBaseURI.toAbsolute(e),new N(function(t){var n=document.createElement(\"img\"),r=function(e){n.parentNode&&n.parentNode.removeChild(n),t(e)};n.onload=function(){var e={width:M(n.width,n.clientWidth),height:M(n.height,n.clientHeight)};r(N.resolve(e))},n.onerror=function(){r(N.reject(\"Failed to get image dimensions for: \"+a))};var e=n.style;e.visibility=\"hidden\",e.position=\"fixed\",e.bottom=e.left=\"0px\",e.width=e.height=\"auto\",document.body.appendChild(n),n.src=a}).then(function(e){return{width:String(e.width),height:String(e.height)}});var a}},Ge=function(e){var n,t,r,a,i,o,l,s={onSubmit:function(n){return function(e){var t=be(Le(n.image),e.getData());l.execCommand(\"mceUpdateImage\",!1,Ee(t,n.hasAccessibilityOptions)),l.editorUpload.uploadImagesAuto(),e.close()}},imageSize:Fe(l=e),addToBlobCache:function(e){o.editorUpload.blobCache.add(e)},createBlobCache:function(e,t,n){return i.editorUpload.blobCache.create({blob:e,blobUri:t,name:e.name?e.name.replace(/\\.[^\\.]+$/,\"\"):null,filename:e.name,base64:n.split(\",\")[1]})},alertErr:function(e){a.windowManager.alert(e)},normalizeCss:function(e){return me(r,e)},parseStyle:function(e){return t.dom.parseStyle(e)},serializeStyle:(n=t=r=a=i=o=e,function(e,t){return n.dom.serializeStyle(e,t)})};return{open:function(){Oe(e).then(Be(s)).then(e.windowManager.open)}}},We=function(u){u.addCommand(\"mceImage\",Ge(u).open),u.addCommand(\"mceUpdateImage\",function(e,s){u.undoManager.transact(function(){return e=s,void((l=de(t=u))?(n=oe(function(e){return me(t,e)},l),(r=c(c({},n),e)).src?pe(t,r):(a=t,(i=l)&&(o=a.dom.is(i.parentNode,\"figure.image\")?i.parentNode:i,a.dom.remove(o),a.focus(),a.nodeChanged(),a.dom.isEmpty(a.getBody())&&(a.setContent(\"\"),a.selection.setCursorLocation())))):e.src&&fe(t,c(c({},ae()),e)));var t,e,n,r,a,i,o,l})})},qe=function(i){return function(e){for(var t,n=e.length,r=function(e){e.attr(\"contenteditable\",i?\"true\":null)};n--;){var a=e[n];(t=a.attr(\"class\"))&&/\\bimage\\b/.test(t)&&(a.attr(\"contenteditable\",i?\"false\":null),ve.each(a.getAll(\"figcaption\"),r))}}};a.add(\"image\",function(e){var t,n;(t=e).on(\"PreInit\",function(){t.parser.addNodeFilter(\"figure\",qe(!0)),t.serializer.addNodeFilter(\"figure\",qe(!1))}),(n=e).ui.registry.addToggleButton(\"image\",{icon:\"image\",tooltip:\"Insert/edit image\",onAction:Ge(n).open,onSetup:function(e){return n.selection.selectorChangedWithUnbind(\"img:not([data-mce-object],[data-mce-placeholder]),figure.image\",e.setActive).unbind}}),n.ui.registry.addMenuItem(\"image\",{icon:\"image\",text:\"Image...\",onAction:Ge(n).open}),n.ui.registry.addContextMenu(\"image\",{update:function(e){return ne(e)||\"IMG\"===e.nodeName&&!k(e)?[\"image\"]:[]}}),We(e)})}();"]}