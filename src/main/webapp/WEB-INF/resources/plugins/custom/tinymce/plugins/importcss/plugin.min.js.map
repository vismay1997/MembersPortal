{"version":3,"sources":["importcss/plugin.min.js"],"names":["t","tinymce","util","Tools","resolve","v","f","m","h","d","getParam","o","r","e","Array","prototype","isPrototypeOf","constructor","name","String","i","push","l","n","length","Error","apply","p","indexOf","RegExp","test","_","s","a","u","href","cacheSuffix","replace","documentBaseURI","toAbsolute","baseURL","c","inline","each","imports","cssRules","rules","styleSheet","selectorText","split","trim","contentCSS","styleSheets","x","exec","substr","join","makeMap","title","schema","getTextBlockElements","block","getBlockElements","toLowerCase","selector","classes","attributes","class","P","add","y","on","addItemToGroup","addItem","toFormats","items","concat","g","map","extend","original","selectors","filter","item","text","menu","plugins","importcss","selector_converter","call","DOM","uniqueId","formatter","register","format","getDoc","grep","fire","convertSelectorToFormat"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.6.2 (2020-12-08)\n */\n!function(){\"use strict\";var n,t=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),v=tinymce.util.Tools.resolve(\"tinymce.dom.DOMUtils\"),f=tinymce.util.Tools.resolve(\"tinymce.EditorManager\"),m=tinymce.util.Tools.resolve(\"tinymce.Env\"),h=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),d=function(t){return t.getParam(\"importcss_selector_converter\")},o=(n=\"array\",function(t){return r=typeof(e=t),(null===e?\"null\":\"object\"==r&&(Array.prototype.isPrototypeOf(e)||e.constructor&&\"Array\"===e.constructor.name)?\"array\":\"object\"==r&&(String.prototype.isPrototypeOf(e)||e.constructor&&\"String\"===e.constructor.name)?\"string\":r)===n;var e,r}),i=Array.prototype.push,l=function(t,e){return function(t){for(var e=[],r=0,n=t.length;r<n;++r){if(!o(t[r]))throw new Error(\"Arr.flatten item \"+r+\" was not an array, input: \"+t);i.apply(e,t[r])}return e}(function(t,e){for(var r=t.length,n=new Array(r),o=0;o<r;o++){var i=t[o];n[o]=e(i,o)}return n}(t,e))},p=function(e){return\"string\"==typeof e?function(t){return-1!==t.indexOf(e)}:e instanceof RegExp?function(t){return e.test(t)}:e},_=function(s,t,a){var u=[],r={};function l(t,e){var r,n,o,i=t.href;if(n=i,o=m.cacheSuffix,\"string\"==typeof n&&(n=n.replace(\"?\"+o,\"\").replace(\"&\"+o,\"\")),(i=n)&&a(i,e)&&!function(t,e){var r,n=!1!==(r=t.getParam(\"skin\"))&&(r||\"oxide\");if(n){var o=t.getParam(\"skin_url\"),i=o?t.documentBaseURI.toAbsolute(o):f.baseURL+\"/skins/ui/\"+n,c=f.baseURL+\"/skins/content/\";return e===i+\"/content\"+(t.inline?\".inline\":\"\")+\".min.css\"||-1!==e.indexOf(c)}return!1}(s,i)){h.each(t.imports,function(t){l(t,!0)});try{r=t.cssRules||t.rules}catch(c){}h.each(r,function(t){t.styleSheet?l(t.styleSheet,!0):t.selectorText&&h.each(t.selectorText.split(\",\"),function(t){u.push(h.trim(t))})})}}h.each(s.contentCSS,function(t){r[t]=!0}),a=a||function(t,e){return e||r[t]};try{h.each(t.styleSheets,function(t){l(t)})}catch(e){}return u},x=function(t,e){var r,n=/^(?:([a-z0-9\\-_]+))?(\\.[a-z0-9_\\-\\.]+)$/i.exec(e);if(n){var o=n[1],i=n[2].substr(1).split(\".\").join(\" \"),c=h.makeMap(\"a,img\");return n[1]?(r={title:e},t.schema.getTextBlockElements()[o]?r.block=o:t.schema.getBlockElements()[o]||c[o.toLowerCase()]?r.selector=o:r.inline=o):n[2]&&(r={inline:\"span\",title:e.substr(1),classes:i}),!1!==t.getParam(\"importcss_merge_classes\")?r.classes=i:r.attributes={\"class\":i},r}},P=function(t,e){return null===e||!1!==t.getParam(\"importcss_exclusive\")},r=function(y){y.on(\"init\",function(t){var e,r,n,o,i=(e=[],r=[],n={},{addItemToGroup:function(t,e){n[t]?n[t].push(e):(r.push(t),n[t]=[e])},addItem:function(t){e.push(t)},toFormats:function(){return l(r,function(t){var e=n[t];return 0===e.length?[]:[{title:t,items:e}]}).concat(e)}}),g={},c=p(y.getParam(\"importcss_selector_filter\")),s=(o=y.getParam(\"importcss_groups\"),h.map(o,function(t){return h.extend({},t,{original:t,selectors:{},filter:p(t.filter),item:{text:t.title,menu:[]}})})),a=function(t,e){if(f=t,p=g,!(P(y,m=e)?f in p:f in m.selectors)){a=t,l=g,P(y,u=e)?l[a]=!0:u.selectors[a]=!0;var r=(i=(o=y).plugins.importcss,c=t,((s=e)&&s.selector_converter?s.selector_converter:d(o)?d(o):function(){return x(o,c)}).call(i,c,s));if(r){var n=r.name||v.DOM.uniqueId();return y.formatter.register(n,r),h.extend({},{title:r.title,format:n})}}var o,i,c,s,a,u,l,f,m,p;return null};h.each(_(y,y.getDoc(),p(y.getParam(\"importcss_file_filter\"))),function(r){var t,e,n,o;-1===r.indexOf(\".mce-\")&&(c&&!c(r)||(n=s,o=r,0<(t=h.grep(n,function(t){return!t.filter||t.filter(o)})).length?h.each(t,function(t){var e=a(r,t);e&&i.addItemToGroup(t.title,e)}):(e=a(r,null))&&i.addItem(e)))});var u=i.toFormats();y.fire(\"addStyleModifications\",{items:u,replace:!y.getParam(\"importcss_append\")})})};t.add(\"importcss\",function(t){return r(t),e=t,{convertSelectorToFormat:function(t){return x(e,t)}};var e})}();"]}