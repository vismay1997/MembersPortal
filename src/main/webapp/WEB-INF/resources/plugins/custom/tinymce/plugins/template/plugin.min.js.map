{"version":3,"sources":["template/plugin.min.js"],"names":["n","r","a","e","tinymce","util","Tools","resolve","o","c","u","_","s","i","getParam","l","f","translate","m","t","length","p","split","Date","replace","getFullYear","getYear","getMonth","getDate","getHours","getMinutes","getSeconds","getDay","d","send","url","success","JSON","parse","x","each","RegExp","g","dom","select","hasClass","v","test","className","y","selection","getContent","create","appendChild","cloneNode","innerHTML","execCommand","addVisual","b","T","isNone","fold","is","isSome","getOr","getOrThunk","getOrDie","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","bind","exists","forall","filter","equals","equals_","toArray","toString","M","O","some","none","from","S","w","D","Object","hasOwnProperty","C","\"","<",">","&","'","N","call","A","I","P","text","windowManager","alert","focus","value","content","error","selected","title","description","notificationManager","open","type","Array","size","body","items","initialData","buttons","name","primary","onSubmit","getData","template","then","close","disable","onChange","block","indexOf","contentCSS","documentBaseURI","toAbsolute","id","encode","mac","getBody","dir","getURI","label","html","sandboxed","h","preview","unblock","redial","k","add","ui","registry","addButton","icon","tooltip","onAction","addMenuItem","addCommand","arguments","concat","apply","on","node"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.6.2 (2020-12-08)\n */\n!function(){\"use strict\";var e=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),t=function(){},o=function(e){return function(){return e}};var n,r,a,c=o(!1),u=o(!0),_=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),s=tinymce.util.Tools.resolve(\"tinymce.util.XHR\"),i=function(e){return e.getParam(\"template_mdate_classes\",\"mdate\")},l=function(e){return e.getParam(\"template_replace_values\")},f=function(e){return e.getParam(\"template_mdate_format\",e.translate(\"%Y-%m-%d\"))},m=function(e,t){if((e=\"\"+e).length<t)for(var n=0;n<t-e.length;n++)e=\"0\"+e;return e},p=function(e,t,n){var r=\"Sun Mon Tue Wed Thu Fri Sat Sun\".split(\" \"),a=\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday\".split(\" \"),o=\"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\".split(\" \"),c=\"January February March April May June July August September October November December\".split(\" \");return n=n||new Date,t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(\"%D\",\"%m/%d/%Y\")).replace(\"%r\",\"%I:%M:%S %p\")).replace(\"%Y\",\"\"+n.getFullYear())).replace(\"%y\",\"\"+n.getYear())).replace(\"%m\",m(n.getMonth()+1,2))).replace(\"%d\",m(n.getDate(),2))).replace(\"%H\",\"\"+m(n.getHours(),2))).replace(\"%M\",\"\"+m(n.getMinutes(),2))).replace(\"%S\",\"\"+m(n.getSeconds(),2))).replace(\"%I\",\"\"+((n.getHours()+11)%12+1))).replace(\"%p\",n.getHours()<12?\"AM\":\"PM\")).replace(\"%B\",\"\"+e.translate(c[n.getMonth()]))).replace(\"%b\",\"\"+e.translate(o[n.getMonth()]))).replace(\"%A\",\"\"+e.translate(a[n.getDay()]))).replace(\"%a\",\"\"+e.translate(r[n.getDay()]))).replace(\"%%\",\"%\")},d=function(t,n){return function(){var e=t.getParam(\"templates\");\"function\"!=typeof e?\"string\"==typeof e?s.send({url:e,success:function(e){n(JSON.parse(e))}}):n(e):e(n)}},x=function(n,e){return _.each(e,function(e,t){\"function\"==typeof e&&(e=e(t)),n=n.replace(new RegExp(\"\\\\{\\\\$\"+t+\"\\\\}\",\"g\"),e)}),n},g=function(e,t){var r=e.dom,a=l(e);_.each(r.select(\"*\",t),function(n){_.each(a,function(e,t){r.hasClass(n,t)&&\"function\"==typeof a[t]&&a[t](n)})})},v=function(e,t){return new RegExp(\"\\\\b\"+t+\"\\\\b\",\"g\").test(e.className)},y=function(n,e,t){var r,a=n.dom,o=n.selection.getContent();t=x(t,l(n)),r=a.create(\"div\",null,t);var c=a.select(\".mceTmpl\",r);c&&0<c.length&&(r=a.create(\"div\",null)).appendChild(c[0].cloneNode(!0)),_.each(a.select(\"*\",r),function(e){var t;v(e,n.getParam(\"template_cdate_classes\",\"cdate\").replace(/\\s+/g,\"|\"))&&(e.innerHTML=p(n,(t=n).getParam(\"template_cdate_format\",t.translate(\"%Y-%m-%d\")))),v(e,i(n).replace(/\\s+/g,\"|\"))&&(e.innerHTML=p(n,f(n))),v(e,n.getParam(\"template_selected_content_classes\",\"selcontent\").replace(/\\s+/g,\"|\"))&&(e.innerHTML=o)}),g(n,r),n.execCommand(\"mceInsertContent\",!1,r.innerHTML),n.addVisual()},h=function(e){e.addCommand(\"mceInsertTemplate\",function(r){for(var a=[],e=1;e<arguments.length;e++)a[e-1]=arguments[e];return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a.concat(e);return r.apply(null,n)}}(y,e))},b=function(){return T},T=(n=function(e){return e.isNone()},{fold:function(e,t){return e()},is:c,isSome:c,isNone:u,getOr:a=function(e){return e},getOrThunk:r=function(e){return e()},getOrDie:function(e){throw new Error(e||\"error: getOrDie called on none.\")},getOrNull:o(null),getOrUndefined:o(undefined),or:a,orThunk:r,map:b,each:t,bind:b,exists:c,forall:u,filter:b,equals:n,equals_:n,toArray:function(){return[]},toString:o(\"none()\")}),M=function(n){var e=o(n),t=function(){return a},r=function(e){return e(n)},a={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:u,isNone:c,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:t,orThunk:t,map:function(e){return M(e(n))},each:function(e){e(n)},bind:r,exists:r,forall:r,filter:function(e){return e(n)?a:T},toArray:function(){return[n]},toString:function(){return\"some(\"+n+\")\"},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(c,function(e){return t(n,e)})}};return a},O={some:M,none:b,from:function(e){return null===e||e===undefined?T:M(e)}},P=function(e,t){return function(e,t,n){for(var r=0,a=e.length;r<a;r++){var o=e[r];if(t(o,r))return O.some(o);if(n(o,r))break}return O.none()}(e,t,c)},S=tinymce.util.Tools.resolve(\"tinymce.Env\"),w=tinymce.util.Tools.resolve(\"tinymce.util.Promise\"),D=Object.hasOwnProperty,A=function(e,t){return D.call(e,t)},C={'\"':\"&quot;\",\"<\":\"&lt;\",\">\":\"&gt;\",\"&\":\"&amp;\",\"'\":\"&#039;\"},N=function(e){return e.replace(/[\"'<>&]/g,function(e){return(A(t=C,n=e)?O.from(t[n]):O.none()).getOr(e);var t,n})},I=function(M,t){var e=function(e){return function(e,t){for(var n=e.length,r=new Array(n),a=0;a<n;a++){var o=e[a];r[a]=t(o,a)}return r}(e,function(e){return{text:e.text,value:e.text}})},u=function(e,t){return P(e,function(e){return e.text===t})},i=function(e){M.windowManager.alert(\"Could not load the specified template.\",function(){return e.focus(\"template\")})},l=function(e){return new w(function(t,n){e.value.url.fold(function(){return t(e.value.content.getOr(\"\"))},function(e){return s.send({url:e,success:function(e){t(e)},error:function(e){n(e)}})})})};(function(){if(t&&0!==t.length)return O.from(_.map(t,function(e,t){var n=function(e){return e.url!==undefined};return{selected:0===t,text:e.title,value:{url:n(e)?O.from(e.url):O.none(),content:n(e)?O.none():O.from(e.content),description:e.description}}}));var e=M.translate(\"No templates defined.\");return M.notificationManager.open({text:e,type:\"info\"}),O.none()})().each(function(o){var b=e(o),T=function(e,t){return{title:\"Insert Template\",size:\"large\",body:{type:\"panel\",items:e},initialData:t,buttons:[{type:\"cancel\",name:\"cancel\",text:\"Cancel\"},{type:\"submit\",name:\"save\",text:\"Save\",primary:!0}],onSubmit:function(t){var e=t.getData();u(n,e.template).each(function(e){l(e).then(function(e){y(M,0,e),t.close()})[\"catch\"](function(){t.disable(\"save\"),i(t)})})},onChange:(r=n=o,a=c,function(n,e){var t;\"template\"===e.name&&(t=n.getData().template,u(r,t).each(function(t){n.block(\"Loading...\"),l(t).then(function(e){a(n,t,e)})[\"catch\"](function(){a(n,t,\"\"),n.disable(\"save\"),i(n)})}))})};var r,a,n},c=function(e,t,n){var r,a,o,c,u,i,l,s,f,m,p,d,g,v=(r=M,-1===(a=n).indexOf(\"<html>\")&&(o=\"\",(c=r.getParam(\"content_style\",\"\",\"string\"))&&(o+='<style type=\"text/css\">'+c+\"</style>\"),u=r.getParam(\"content_css_cors\",!1,\"boolean\")?' crossorigin=\"anonymous\"':\"\",_.each(r.contentCSS,function(e){o+='<link type=\"text/css\" rel=\"stylesheet\" href=\"'+r.documentBaseURI.toAbsolute(e)+'\"'+u+\">\"}),i=-1===(g=(p=r).getParam(\"body_class\",\"\",\"string\")).indexOf(\"=\")?g:(d=p).getParam(\"body_class\",\"\",\"hash\")[d.id]||\"\",l=r.dom.encode,s='<script>document.addEventListener && document.addEventListener(\"click\", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === \"A\" && !('+(S.mac?\"e.metaKey\":\"e.ctrlKey && !e.altKey\")+\")) {e.preventDefault();}}}, false);<\\/script> \",m=(f=r.getBody().dir)?' dir=\"'+l(f)+'\"':\"\",a='<!DOCTYPE html><html><head><base href=\"'+l(r.documentBaseURI.getURI())+'\">'+o+s+'</head><body class=\"'+l(i)+'\"'+m+\">\"+a+\"</body></html>\"),x(a,r.getParam(\"template_preview_replace_values\"))),y=[{type:\"selectbox\",name:\"template\",label:\"Templates\",items:b},{type:\"htmlpanel\",html:'<p aria-live=\"polite\">'+N(t.value.description)+\"</p>\"},{label:\"Preview\",type:\"iframe\",name:\"preview\",sandboxed:!1}],h={template:t.text,preview:v};e.unblock(),e.redial(T(y,h)),e.focus(\"template\")},t=M.windowManager.open(T([],{template:\"\",preview:\"\"}));t.block(\"Loading...\"),l(o[0]).then(function(e){c(t,o[0],e)})[\"catch\"](function(){c(t,o[0],\"\"),t.disable(\"save\"),i(t)})})},k=function(t){return function(e){I(t,e)}};e.add(\"template\",function(e){var t,r;(t=e).ui.registry.addButton(\"template\",{icon:\"template\",tooltip:\"Insert template\",onAction:d(t,k(t))}),t.ui.registry.addMenuItem(\"template\",{icon:\"template\",text:\"Insert template...\",onAction:d(t,k(t))}),h(e),(r=e).on(\"PreProcess\",function(e){var t=r.dom,n=f(r);_.each(t.select(\"div\",e.node),function(e){t.hasClass(e,\"mceTmpl\")&&(_.each(t.select(\"*\",e),function(e){t.hasClass(e,i(r).replace(/\\s+/g,\"|\"))&&(e.innerHTML=p(r,n))}),g(r,e))})})})}();"]}