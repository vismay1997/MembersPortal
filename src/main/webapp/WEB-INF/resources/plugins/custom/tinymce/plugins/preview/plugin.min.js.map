{"version":3,"sources":["preview/plugin.min.js"],"names":["e","tinymce","util","Tools","resolve","f","w","add","t","n","addCommand","i","dom","encode","getParam","documentBaseURI","getURI","o","each","contentCSS","toAbsolute","r","a","c","s","d","m","l","y","indexOf","id","u","v","mac","g","getBody","dir","p","getContent","windowManager","open","title","size","body","type","items","name","sandboxed","buttons","text","primary","initialData","preview","focus","ui","registry","addButton","icon","tooltip","onAction","execCommand","addMenuItem"],"mappings":"CAQC,WAAW,aAAa,IAAIA,EAAEC,QAAQC,KAAKC,MAAMC,QAAQ,yBAAyBC,EAAEJ,QAAQC,KAAKC,MAAMC,QAAQ,eAAeE,EAAEL,QAAQC,KAAKC,MAAMC,QAAQ,sBAAu1CJ,EAAEO,IAAI,WAAU,SAASP,GAAG,IAAIQ,EAAEC,GAAGD,EAAER,GAAGU,WAAW,cAAa,YAAj4C,SAASV,GAAG,IAAIQ,EAAE,SAASA,GAAG,IAAIC,EAAE,GAAGE,EAAEH,EAAEI,IAAIC,OAAOb,EAAEQ,EAAEM,SAAS,gBAAgB,GAAG,UAAUL,GAAG,eAAeE,EAAEH,EAAEO,gBAAgBC,UAAU,KAAKhB,IAAIS,GAAG,0BAA0BT,EAAE,YAAY,IAAIiB,EAAET,EAAEM,SAAS,oBAAmB,EAAG,WAAW,2BAA2B,GAAGR,EAAEY,KAAKV,EAAEW,YAAW,SAASnB,GAAGS,GAAG,gDAAgDE,EAAEH,EAAEO,gBAAgBK,WAAWpB,IAAI,IAAIiB,EAAE,OAAM,IAAII,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,GAAG,KAAKJ,GAAGH,EAAEb,GAAGM,SAAS,UAAU,UAAU,WAAWe,QAAQ,KAAKL,GAAGD,GAAGD,EAAED,GAAGP,SAAS,UAAU,GAAG,SAASQ,EAAEQ,KAAKP,EAAEQ,GAAG,KAAKJ,GAAGF,EAAEjB,GAAGM,SAAS,aAAa,GAAG,WAAWe,QAAQ,KAAKF,GAAGD,EAAED,GAAGX,SAAS,aAAa,GAAG,QAAQY,EAAEI,KAAK,GAAGE,EAAE,4KAA4K3B,EAAE4B,IAAI,YAAY,0BAA0B,iDAAiDC,EAAE1B,EAAE2B,UAAUC,IAAIC,EAAEH,EAAE,SAASvB,EAAEuB,GAAG,IAAI,GAAG,MAAM,8BAA8BzB,EAAE,oBAAoBE,EAAEiB,GAAG,6BAA6BjB,EAAEoB,GAAG,IAAIM,EAAE,IAAI7B,EAAE8B,aAAaN,EAAE,iBAApjC,CAAskChC,GAAGA,EAAEuC,cAAcC,KAAK,CAACC,MAAM,UAAUC,KAAK,QAAQC,KAAK,CAACC,KAAK,QAAQC,MAAM,CAAC,CAACC,KAAK,UAAUF,KAAK,SAASG,WAAU,KAAMC,QAAQ,CAAC,CAACJ,KAAK,SAASE,KAAK,QAAQG,KAAK,QAAQC,SAAQ,IAAKC,YAAY,CAACC,QAAQ5C,KAAK6C,MAAM,SAAuF1C,CAAEH,OAAMC,EAAET,GAAGsD,GAAGC,SAASC,UAAU,UAAU,CAACC,KAAK,UAAUC,QAAQ,UAAUC,SAAS,WAAW,OAAOlD,EAAEmD,YAAY,iBAAiBnD,EAAE6C,GAAGC,SAASM,YAAY,UAAU,CAACJ,KAAK,UAAUR,KAAK,UAAUU,SAAS,WAAW,OAAOlD,EAAEmD,YAAY,oBAApzD","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.6.2 (2020-12-08)\n */\n!function(){\"use strict\";var e=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),f=tinymce.util.Tools.resolve(\"tinymce.Env\"),w=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),i=function(e){var t=function(t){var n=\"\",i=t.dom.encode,e=t.getParam(\"content_style\",\"\",\"string\");n+='<base href=\"'+i(t.documentBaseURI.getURI())+'\">',e&&(n+='<style type=\"text/css\">'+e+\"</style>\");var o=t.getParam(\"content_css_cors\",!1,\"boolean\")?' crossorigin=\"anonymous\"':\"\";w.each(t.contentCSS,function(e){n+='<link type=\"text/css\" rel=\"stylesheet\" href=\"'+i(t.documentBaseURI.toAbsolute(e))+'\"'+o+\">\"});var r,a,c,s,d,m,l,y=-1===(s=(r=t).getParam(\"body_id\",\"tinymce\",\"string\")).indexOf(\"=\")?s:(c=(a=r).getParam(\"body_id\",\"\",\"hash\"))[a.id]||c,u=-1===(l=(d=t).getParam(\"body_class\",\"\",\"string\")).indexOf(\"=\")?l:(m=d).getParam(\"body_class\",\"\",\"hash\")[m.id]||\"\",v='<script>document.addEventListener && document.addEventListener(\"click\", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === \"A\" && !('+(f.mac?\"e.metaKey\":\"e.ctrlKey && !e.altKey\")+\")) {e.preventDefault();}}}, false);<\\/script> \",g=t.getBody().dir,p=g?' dir=\"'+i(g)+'\"':\"\";return\"<!DOCTYPE html><html><head>\"+n+'</head><body id=\"'+i(y)+'\" class=\"mce-content-body '+i(u)+'\"'+p+\">\"+t.getContent()+v+\"</body></html>\"}(e);e.windowManager.open({title:\"Preview\",size:\"large\",body:{type:\"panel\",items:[{name:\"preview\",type:\"iframe\",sandboxed:!0}]},buttons:[{type:\"cancel\",name:\"close\",text:\"Close\",primary:!0}],initialData:{preview:t}}).focus(\"close\")};e.add(\"preview\",function(e){var t,n;(t=e).addCommand(\"mcePreview\",function(){i(t)}),(n=e).ui.registry.addButton(\"preview\",{icon:\"preview\",tooltip:\"Preview\",onAction:function(){return n.execCommand(\"mcePreview\")}}),n.ui.registry.addMenuItem(\"preview\",{icon:\"preview\",text:\"Preview\",onAction:function(){return n.execCommand(\"mcePreview\")}})})}();"]}