{"version":3,"sources":["imagetools/plugin.min.js"],"names":["t","e","n","l","get","set","o","tinymce","util","Tools","resolve","d","u","a","c","f","s","isNone","fold","is","isSome","getOr","getOrThunk","getOrDie","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","equals","equals_","toArray","toString","m","r","g","some","none","from","h","v","p","b","document","createElement","y","width","height","w","drawImage","getContext","I","T","_","R","U","window","Promise","this","TypeError","_state","_value","_deferreds","C","A","E","L","immediateFn","setImmediate","setTimeout","Array","isArray","Object","prototype","call","then","x","k","all","arguments","length","slice","i","constructor","reject","race","apply","onFulfilled","onRejected","push","j","P","URL","createObjectURL","Image","removeEventListener","type","addEventListener","src","complete","S","split","exec","atob","Math","ceil","min","charCodeAt","Uint8Array","Blob","M","HTMLCanvasElement","toBlob","toDataURL","N","D","indexOf","XMLHttpRequest","open","responseType","onload","status","response","onerror","code","name","send","F","H","getType","toBase64","toAdjustedBlob","toAdjustedDataURL","toAdjustedBase64","toCanvas","z","J","scale","K","translate","rotate","PI","V","keys","W","onreadystatechange","readyState","blob","withCredentials","setRequestHeader","X","message","Q","Z","tt","et","JSON","parse","Y","rt","ot","Content-Type","tiny-api-key","test","encodeURIComponent","FileReader","result","readAsText","nt","it","ut","onloadend","readAsDataURL","revokeObjectURL","naturalWidth","naturalHeight","B","at","dom","ct","ft","Function","nodeType","matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","childNodes","st","lt","dt","mt","getParam","ht","style","parseInt","gt","vt","pt","yt","wt","bt","Rt","Ut","It","notificationManager","text","Tt","selection","getNode","getParent","_t","match","encode","host","documentBaseURI","inArray","xt","At","Et","editorUpload","blobCache","getByUri","Lt","clearTimeout","jt","uri","filename","create","id","base64","add","undoManager","transact","$","on","off","nodeChanged","uploadImagesAuto","setEditorTimeout","attr","blobUri","removeAttr","kt","_scanForImages","Ct","Ot","St","url","windowManager","title","size","body","items","label","currentState","buttons","primary","disabled","onSubmit","getData","imagetools","removeAttribute","setAttribute","String","Pt","close","onCancel","onAction","value","enable","disable","mceImageRotateLeft","mceImageRotateRight","mceImageFlipVertical","mceImageFlipHorizontal","mceEditImage","addCommand","execCommand","ui","registry","addButton","tooltip","icon","onSetup","setDisabled","addContextMenu","update","addContextToolbar","predicate","position","scope","element"],"mappings":"CAQC,WAAW,aAAa,IAAIA,EAAEC,EAAEC,EAAIC,EAAE,SAASH,GAAG,IAAIC,EAAED,EAAE,MAAM,CAACI,IAAI,WAAW,OAAOH,GAAGI,IAAI,SAASL,GAAGC,EAAED,KAAKM,EAAEC,QAAQC,KAAKC,MAAMC,QAAQ,yBAAyBC,EAAEJ,QAAQC,KAAKC,MAAMC,QAAQ,sBAAqCE,EAAE,SAASZ,GAAG,OAAO,WAAW,OAAOA,IAAIa,EAAED,GAAE,GAAIE,EAAEF,GAAE,GAAIG,EAAE,WAAW,OAAOC,GAAGA,GAAGhB,EAAE,SAASA,GAAG,OAAOA,EAAEiB,UAAU,CAACC,KAAK,SAASlB,EAAEC,GAAG,OAAOD,KAAKmB,GAAGN,EAAEO,OAAOP,EAAEI,OAAOH,EAAEO,MAAMnB,EAAE,SAASF,GAAG,OAAOA,GAAGsB,WAAWrB,EAAE,SAASD,GAAG,OAAOA,KAAKuB,SAAS,SAASvB,GAAG,MAAM,IAAIwB,MAAMxB,GAAG,oCAAoCyB,UAAUb,EAAE,MAAMc,eAAed,OAAEe,GAAWC,GAAG1B,EAAE2B,QAAQ5B,EAAE6B,IAAIf,EAAEgB,KAA5Y,aAAmZC,KAAKjB,EAAEkB,OAAOpB,EAAEqB,OAAOpB,EAAEqB,OAAOpB,EAAEqB,OAAOpC,EAAEqC,QAAQrC,EAAEsC,QAAQ,WAAW,MAAM,IAAIC,SAAS3B,EAAE,YAAY4B,EAAE,SAAStC,GAAG,IAAIF,EAAEY,EAAEV,GAAGD,EAAE,WAAW,OAAOK,GAAGmC,EAAE,SAASzC,GAAG,OAAOA,EAAEE,IAAII,EAAE,CAACY,KAAK,SAASlB,EAAEC,GAAG,OAAOA,EAAEC,IAAIiB,GAAG,SAASnB,GAAG,OAAOE,IAAIF,GAAGoB,OAAON,EAAEG,OAAOJ,EAAEQ,MAAMrB,EAAEsB,WAAWtB,EAAEuB,SAASvB,EAAEyB,UAAUzB,EAAE0B,eAAe1B,EAAE4B,GAAG3B,EAAE4B,QAAQ5B,EAAE6B,IAAI,SAAS9B,GAAG,OAAOwC,EAAExC,EAAEE,KAAK6B,KAAK,SAAS/B,GAAGA,EAAEE,IAAI8B,KAAKS,EAAER,OAAOQ,EAAEP,OAAOO,EAAEN,OAAO,SAASnC,GAAG,OAAOA,EAAEE,GAAGI,EAAEU,GAAGsB,QAAQ,WAAW,MAAM,CAACpC,IAAIqC,SAAS,WAAW,MAAM,QAAQrC,EAAE,KAAKkC,OAAO,SAASpC,GAAG,OAAOA,EAAEmB,GAAGjB,IAAImC,QAAQ,SAASrC,EAAEC,GAAG,OAAOD,EAAEkB,KAAKL,GAAE,SAASb,GAAG,OAAOC,EAAEC,EAAEF,QAAO,OAAOM,GAAGoC,EAAE,CAACC,KAAKH,EAAEI,KAAK7B,EAAE8B,KAAK,SAAS7C,GAAG,OAAO,MAAOA,EAAiBgB,EAAEwB,EAAExC,KAAK8C,EAAE,SAAS9C,GAAG,QAAQ,QAAQC,EAAED,SAAQ2B,IAAJ1B,GAAe,IAAIA,GAAG8C,GAAK,WAAW,SAAS/C,GAAG,MAAvB,mBAAqCA,IAAQ,SAASgD,EAAEhD,EAAEC,GAAG,OAAOgD,EAAEC,SAASC,cAAc,UAAUnD,EAAEC,GAAG,SAASmD,EAAEpD,GAAG,IAAIC,EAAE+C,EAAEhD,EAAEqD,MAAMrD,EAAEsD,QAAQ,OAAOC,EAAEtD,GAAGuD,UAAUxD,EAAE,EAAE,GAAGC,EAAE,SAASsD,EAAEvD,GAAG,OAAOA,EAAEyD,WAAW,MAAM,SAASR,EAAEjD,EAAEC,EAAEC,GAAG,OAAOF,EAAEqD,MAAMpD,EAAED,EAAEsD,OAAOpD,EAAEF,EAAE,IAAI0D,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,OAAOC,QAAQD,OAAOC,SAASN,EAAE,SAAS1D,GAAG,GAAG,iBAAiBiE,KAAK,MAAM,IAAIC,UAAU,wCAAwC,GAAG,mBAAmBlE,EAAE,MAAM,IAAIkE,UAAU,kBAAkBD,KAAKE,OAAO,KAAKF,KAAKG,OAAO,KAAKH,KAAKI,WAAW,GAAGC,EAAEtE,EAAEuE,EAAEC,EAAEP,MAAMM,EAAEE,EAAER,QAAQN,EAAEI,OAAOH,EAAEF,EAAEgB,aAAa,mBAAmBf,EAAEgB,cAAchB,EAAEgB,cAAc,SAAS3E,GAAG4E,WAAW5E,EAAE,IAAI6D,EAAEgB,MAAMC,SAAS,SAAS9E,GAAG,MAAM,mBAAmB+E,OAAOC,UAAUzC,SAAS0C,KAAKjF,IAAI0D,EAAEsB,UAAiB,MAAE,SAAShF,GAAG,OAAOiE,KAAKiB,KAAK,KAAKlF,IAAI0D,EAAEsB,UAAUE,KAAK,SAAShF,EAAEuC,GAAG,IAAInC,EAAE2D,KAAK,OAAO,IAAIP,GAAE,SAAS1D,EAAEC,GAAGkF,EAAEF,KAAK3E,EAAE,IAAI8E,EAAElF,EAAEuC,EAAEzC,EAAEC,QAAOyD,EAAE2B,IAAI,WAAW,IAAI,IAAIrF,EAAE,GAAGC,EAAE,EAAEA,EAAEqF,UAAUC,OAAOtF,IAAID,EAAEC,GAAGqF,UAAUrF,GAAG,IAAIa,EAAE+D,MAAMG,UAAUQ,MAAMP,KAAK,IAAIjF,EAAEuF,QAAQ1B,EAAE7D,EAAE,IAAIA,EAAE,GAAGA,GAAG,OAAO,IAAI0D,GAAE,SAASpD,EAAEmF,GAAG,GAAG,IAAI3E,EAAEyE,OAAO,OAAOjF,EAAE,IAAI,IAAI,IAAIM,EAAEE,EAAEyE,OAAOvF,EAAE,EAAEA,EAAEc,EAAEyE,OAAOvF,KAAK,SAASa,EAAEZ,EAAED,GAAG,IAAI,GAAGA,IAAI,iBAAiBA,GAAG,mBAAmBA,GAAG,CAAC,IAAIE,EAAEF,EAAEkF,KAAK,GAAG,mBAAmBhF,EAAE,YAAYA,EAAE+E,KAAKjF,GAAE,SAASA,GAAGa,EAAEZ,EAAED,KAAIyF,GAAG3E,EAAEb,GAAGD,EAAE,KAAKY,GAAGN,EAAEQ,GAAG,MAAM2B,GAAGgD,EAAEhD,IAAtL,CAA2LzC,EAAEc,EAAEd,QAAO0D,EAAEhD,QAAQ,SAAST,GAAG,OAAOA,GAAG,iBAAiBA,GAAGA,EAAEyF,cAAchC,EAAEzD,EAAE,IAAIyD,GAAE,SAAS1D,GAAGA,EAAEC,OAAMyD,EAAEiC,OAAO,SAASzF,GAAG,OAAO,IAAIwD,GAAE,SAAS1D,EAAEC,GAAGA,EAAEC,OAAMwD,EAAEkC,KAAK,SAAStF,GAAG,OAAO,IAAIoD,GAAE,SAAS1D,EAAEC,GAAG,IAAI,IAAIC,EAAE,EAAEuC,EAAEnC,EAAEJ,EAAEuC,EAAE8C,OAAOrF,IAAIuC,EAAEvC,GAAGgF,KAAKlF,EAAEC,OAAMyD,GAAG,SAASa,EAAEvE,EAAEC,GAAG,OAAO,WAAW,OAAOD,EAAE6F,MAAM5F,EAAEqF,YAAY,SAASH,EAAE1C,GAAG,IAAInC,EAAE2D,KAAK,OAAOA,KAAKE,OAAOP,GAAE,WAAW,IAAI5D,EAAEC,EAAEK,EAAE6D,OAAO1B,EAAEqD,YAAYrD,EAAEsD,WAAW,GAAG,OAAO9F,EAAE,CAAC,IAAID,EAAEC,EAAEK,EAAE8D,QAAQ,MAAMlE,GAAG,YAAYuC,EAAEkD,OAAOzF,GAAGuC,EAAE/B,QAAQV,QAAQM,EAAE6D,OAAO1B,EAAE/B,QAAQ+B,EAAEkD,QAAQrF,EAAE8D,WAAUH,KAAKI,WAAW2B,KAAKvD,GAAG,SAAS+B,EAAExE,GAAG,IAAI,GAAGA,IAAIiE,KAAK,MAAM,IAAIC,UAAU,6CAA6C,GAAGlE,IAAI,iBAAiBA,GAAG,mBAAmBA,GAAG,CAAC,IAAIC,EAAED,EAAEkF,KAAK,GAAG,mBAAmBjF,EAAE,YAAYqE,EAAEC,EAAEtE,EAAED,GAAGuE,EAAEC,EAAEP,MAAMM,EAAEE,EAAER,OAAOA,KAAKE,QAAO,EAAGF,KAAKG,OAAOpE,EAAEiG,EAAEhB,KAAKhB,MAAM,MAAM/D,GAAGuE,EAAEQ,KAAKhB,KAAK/D,IAAI,SAASuE,EAAEzE,GAAGiE,KAAKE,QAAO,EAAGF,KAAKG,OAAOpE,EAAEiG,EAAEhB,KAAKhB,MAAM,SAASgC,IAAI,IAAI,IAAIjG,EAAE,EAAEC,EAAEgE,KAAKI,WAAWrE,EAAEC,EAAEsF,OAAOvF,IAAI,CAAC,IAAIE,EAAED,EAAED,GAAGmF,EAAEF,KAAKhB,KAAK/D,GAAG+D,KAAKI,WAAW,GAAG,SAASe,EAAEpF,EAAEC,EAAEC,EAAEuC,GAAGwB,KAAK6B,YAAY,mBAAmB9F,EAAEA,EAAE,KAAKiE,KAAK8B,WAAW,mBAAmB9F,EAAEA,EAAE,KAAKgE,KAAKvD,QAAQR,EAAE+D,KAAK0B,OAAOlD,EAAE,SAAS6B,EAAEtE,EAAEC,EAAEC,GAAG,IAAIuC,GAAE,EAAG,IAAIzC,GAAE,SAASA,GAAGyC,IAAIA,GAAE,EAAGxC,EAAED,OAAK,SAASA,GAAGyC,IAAIA,GAAE,EAAGvC,EAAEF,OAAM,MAAMM,GAAG,GAAGmC,EAAE,OAAOA,GAAE,EAAGvC,EAAEI,IAA2Z,SAAS4F,EAAErF,GAAG,OAAO,IAAIiD,GAAE,SAAS9D,EAAEC,GAAG,IAAIC,EAAEiG,IAAIC,gBAAgBvF,GAAG4B,EAAE,IAAI4D,MAAM/F,EAAE,WAAWmC,EAAE6D,oBAAoB,OAAOb,GAAGhD,EAAE6D,oBAAoB,QAAQ1F,IAAI,SAAS6E,IAAInF,IAAIN,EAAEyC,GAAG,SAAS7B,IAAIN,IAAIL,EAAE,+BAA+BY,EAAE0F,KAAK,KAAKrG,GAAGuC,EAAE+D,iBAAiB,OAAOf,GAAGhD,EAAE+D,iBAAiB,QAAQ5F,GAAG6B,EAAEgE,IAAIvG,EAAEuC,EAAEiE,UAAUjB,OAAM,SAASkB,EAAEzG,GAAG,OAAO,IAAI4D,GAAE,SAAS9D,EAAEC,IAAG,SAAUD,GAAG,IAAIC,EAAED,EAAE4G,MAAM,KAAK1G,EAAE,eAAe2G,KAAK5G,EAAE,IAAI,IAAIC,EAAE,OAAOwC,EAAEE,OAAO,IAAI,IAAIH,EAAEvC,EAAE,GAAGI,EAAEL,EAAE,GAAGwF,EAAEqB,KAAKxG,GAAGM,EAAE6E,EAAEF,OAAO1E,EAAEkG,KAAKC,KAAKpG,EAAE,MAAME,EAAE,IAAI+D,MAAMhE,GAAGE,EAAE,EAAEA,EAAEF,IAAIE,EAAE,CAAC,IAAI,IAAIC,EAAE,KAAKD,EAAEZ,EAAE4G,KAAKE,IAAI,KAAKjG,EAAEJ,GAAGD,EAAE,IAAIkE,MAAM1E,EAAEa,GAAGwB,EAAExB,EAAE8B,EAAE,EAAEN,EAAErC,IAAI2C,IAAIN,EAAE7B,EAAEmC,GAAG2C,EAAEjD,GAAG0E,WAAW,GAAGpG,EAAEC,GAAG,IAAIoG,WAAWxG,GAAG,OAAO+B,EAAEC,KAAK,IAAIyE,KAAKtG,EAAE,CAACyF,KAAK9D,MAAtU,CAA6UvC,GAAGgB,MAAK,WAAWjB,EAAE,sBAAsBC,KAAIF,MAAK,SAASqH,EAAErH,EAAEyC,EAAEnC,GAAG,OAAOmC,EAAEA,GAAG,YAAYM,EAAEuE,kBAAkBtC,UAAUuC,QAAQ,IAAIzD,GAAE,SAAS7D,EAAEC,GAAGF,EAAEuH,QAAO,SAASvH,GAAGA,EAAEC,EAAED,GAAGE,MAAKuC,EAAEnC,MAAKqG,EAAE3G,EAAEwH,UAAU/E,EAAEnC,IAA4L,IAAImH,EAAEvB,EAAEwB,EAA9+C,SAAW1H,GAAG,IAAIyC,EAAExC,EAAED,EAAEyG,IAAI,OAAO,IAAIxG,EAAE0H,QAAQ,SAAShB,EAAE1G,IAAIwC,EAAExC,EAAE,IAAI6D,GAAE,SAAS9D,EAAEE,GAAG,IAAID,EAAE,IAAI2H,eAAe3H,EAAE4H,KAAK,MAAMpF,GAAE,GAAIxC,EAAE6H,aAAa,OAAO7H,EAAE8H,OAAO,WAAW,MAAM9D,KAAK+D,QAAQhI,EAAEiE,KAAKgE,WAAWhI,EAAEiI,QAAQ,WAAW,IAAIlI,EAASE,EAAE,IAAI+D,KAAK+D,SAAShI,EAAE,IAAIwB,MAAM,gCAAgC2G,KAAK,GAAGnI,EAAEoI,KAAK,gBAAgBpI,GAAG,IAAIwB,MAAM,SAAjHyC,KAA4H+D,OAAO,wBAAwB/H,EAAEoI,YAAqmCC,EAAE,SAAStI,EAAEC,GAAG,OAAO,SAASD,EAAEC,EAAEC,GAAG,IAAI,IAAIuC,EAAE,EAAEnC,EAAEN,EAAEuF,OAAO9C,EAAEnC,EAAEmC,IAAI,CAAC,IAAIgD,EAAEzF,EAAEyC,GAAG,GAAGxC,EAAEwF,EAAEhD,GAAG,OAAOC,EAAEC,KAAK8C,GAAG,GAAGvF,EAAEuF,EAAEhD,GAAG,MAAM,OAAOC,EAAEE,OAA/G,CAAuH5C,EAAEC,EAAEY,IAAI,SAAS0H,EAAEvI,EAAEC,EAAEC,GAAG,IAAIuC,EAAExC,EAAEsG,KAAK,SAASjG,EAAEmC,EAAEnC,GAAG,OAAON,EAAEkF,MAAK,SAASlF,GAAG,OAAOE,EAAEI,EAAEL,GAAGA,EAAEwC,IAAI,YAAYzC,EAAEwH,UAAUvH,EAAEC,GAAG,IAAID,EAAEC,KAAI,MAAM,CAACsI,QAAQ5H,EAAE6B,GAAG8E,OAAO,WAAW,OAAOzD,EAAEpD,QAAQT,IAAIuH,UAAU5G,EAAEV,GAAGuI,SAAS,WAAW,OAAOvI,EAAE0G,MAAM,KAAK,IAAI8B,eAAe,SAASzI,EAAEC,GAAG,OAAOF,EAAEkF,MAAK,SAASlF,GAAG,OAAOqH,EAAErH,EAAEC,EAAEC,OAAMyI,kBAAkBrI,EAAEsI,iBAAiB,SAAS5I,EAAEC,GAAG,OAAOK,EAAEN,EAAEC,GAAGiF,MAAK,SAASlF,GAAG,OAAOA,EAAE4G,MAAM,KAAK,OAAMiC,SAAS,WAAW,OAAO7I,EAAEkF,KAAK9B,KAA0K,SAAS0F,EAAE7I,EAAED,GAAG,OAAOqH,EAAEpH,EAAED,GAAGkF,MAAK,SAASlF,GAAG,OAAOuI,EAAEzE,EAAEpD,QAAQT,GAAGD,EAAEC,EAAEuH,gBAA+jB,IAAIuB,EAAhP,SAAW9I,EAAEC,GAAG,OAAOD,EAAE4I,WAAW3D,MAAK,SAASlF,GAAG,OAAO,SAASA,EAAEC,EAAEC,GAAG,IAAIuC,EAAEO,EAAEhD,EAAEqD,MAAMrD,EAAEsD,QAAQhD,EAAEiD,EAAEd,GAAgG,MAA7F,MAAMvC,GAAGI,EAAE0I,MAAM,GAAG,GAAG1I,EAAEkD,UAAUxD,EAAE,GAAGyC,EAAEa,UAAUhD,EAAE0I,OAAO,EAAE,GAAG1I,EAAEkD,UAAUxD,GAAGyC,EAAEY,MAAM,IAAWyF,EAAErG,EAAExC,GAAzJ,CAA6JD,EAAEC,EAAEuI,UAAUtI,OAAa+I,EAAxjB,SAAWhJ,EAAEC,GAAG,OAAOD,EAAE4I,WAAW3D,MAAK,SAASlF,GAAG,OAAO,SAASA,EAAEC,EAAEC,GAAG,IAAIuC,EAAEO,EAAEhD,EAAEqD,MAAMrD,EAAEsD,QAAQhD,EAAEiD,EAAEd,GAAGgD,EAAE,EAAE7E,EAAE,EAAmH,OAAjH,MAAMV,EAAEA,EAAE,EAAE,IAAIA,EAAEA,IAAI,MAAMA,GAAG+C,EAAER,EAAEA,EAAEa,OAAOb,EAAEY,OAAO,KAAKnD,GAAG,MAAMA,IAAIuF,EAAEhD,EAAEY,OAAO,MAAMnD,GAAG,MAAMA,IAAIU,EAAE6B,EAAEa,QAAehD,EAAE4I,UAAUzD,EAAE7E,GAAGN,EAAE6I,OAAOjJ,EAAE6G,KAAKqC,GAAG,KAAK9I,EAAEkD,UAAUxD,EAAE,EAAE,GAAG8I,EAAErG,EAAExC,GAAjP,CAAqPD,EAAEC,EAAEuI,UAAUtI,OAA6PmJ,EAAEtE,OAAOuE,KAAKC,EAAE,SAAStJ,EAAEwC,EAAEnC,GAAG,YAAO,IAASA,IAAIA,GAAE,GAAI,IAAIwD,GAAE,SAAS9D,GAAG,IAAIE,EAAE,IAAI0H,eAAe1H,EAAEsJ,mBAAmB,WAAW,IAAItJ,EAAEuJ,YAAYzJ,EAAE,CAACgI,OAAO9H,EAAE8H,OAAO0B,KAAKxJ,EAAE+H,YAAY/H,EAAE2H,KAAK,MAAM5H,GAAE,GAAIC,EAAEyJ,gBAAgBrJ,EAAE,SAASN,EAAEC,GAAG,IAAI,IAAIC,EAAEmJ,EAAErJ,GAAGyC,EAAE,EAAEnC,EAAEJ,EAAEqF,OAAO9C,EAAEnC,EAAEmC,IAAI,CAAC,IAAIgD,EAAEvF,EAAEuC,GAAGxC,EAAED,EAAEyF,GAAGA,IAAvE,CAA4EhD,GAAE,SAASzC,EAAEC,GAAGC,EAAE0J,iBAAiB3J,EAAED,MAAKE,EAAE4H,aAAa,OAAO5H,EAAEmI,WAAUwB,EAAE,CAAC,CAAC1B,KAAK,IAAI2B,QAAQ,8BAA8B,CAAC3B,KAAK,IAAI2B,QAAQ,oBAAoB,CAAC3B,KAAK,EAAE2B,QAAQ,8BAA8BC,EAAE,CAAC,CAACxD,KAAK,YAAYuD,QAAQ,yBAAyB,CAACvD,KAAK,cAAcuD,QAAQ,2CAA2C,CAACvD,KAAK,gBAAgBuD,QAAQ,4CAA4C,CAACvD,KAAK,qBAAqBuD,QAAQ,sDAAuOE,EAAE,SAAShK,GAAG,IAAIC,EAAEC,GAAGD,EAAED,EAAE,0BAA0BsI,EAAEuB,GAAE,SAAS7J,GAAG,OAAOC,IAAID,EAAEmI,QAAOjH,KAAKN,EAAE,6BAA4B,SAASZ,GAAG,OAAOA,EAAE8J,YAAW,OAAOhG,EAAE6B,OAAOzF,IAAI+J,EAAG,SAAShK,GAAG,OAAOqI,EAAEyB,GAAE,SAAS/J,GAAG,OAAOA,EAAEuG,OAAOtG,KAAIiB,KAAKN,EAAE,0BAAyB,SAASZ,GAAG,OAAOA,EAAE8J,YAAWI,EAAG,SAASlK,GAAG,MAAM,6BAA6B,SAASA,GAAG,IAAI,OAAO0C,EAAEC,KAAKwH,KAAKC,MAAMpK,IAAI,MAAMC,GAAG,OAAOyC,EAAEE,QAA/D,CAAwE5C,GAAGgC,MAAK,SAAShC,GAAG,OAAvmB,SAASA,EAAEC,GAAG,IAAIC,EAAEuC,EAAEnC,GAAGJ,EAAE,SAASF,EAAEC,GAAG,OAAO6C,EAAE9C,GAAGA,EAAEC,QAAG0B,GAAWc,EAAEzC,EAAE,SAASA,EAAEC,GAAG,IAAI,IAAIC,EAAE,EAAEuC,EAAEzC,EAAEuF,OAAOrF,EAAEuC,EAAEvC,IAAID,EAAED,EAAEE,IAAjD,CAAwDD,GAAE,SAASD,GAAGyC,EAAEvC,EAAEuC,EAAEzC,MAAKyC,GAAG,OAAOC,EAAEG,KAAKvC,GAAmc+J,CAAErK,EAAE,CAAC,QAAQ,SAAS8B,IAAImI,MAAM5I,MAAM,0CAAqPiJ,EAAG,SAAStK,GAAG,OAAOA,EAAE,KAAK,KAAKA,GAAGuK,EAAG,SAASvK,EAAEC,GAAG,IAAIC,EAAEuC,EAAEnC,EAAEmF,EAAE,CAAC+E,eAAe,iCAAiCC,eAAexK,GAAG,OAAOsJ,GAAG9G,EAAExC,EAAEK,GAAG,KAAKJ,EAAEF,GAAG2H,QAAQ,KAAK,IAAI,IAAI,cAAc+C,KAAKxK,GAAGA,EAAEA,EAAEI,EAAE,UAAUqK,mBAAmBlI,IAAIgD,GAAGP,MAAK,SAASlF,GAAG,OAAOsK,EAAGtK,EAAEgI,SAA6BvF,EAApBxC,EAAED,EAAEgI,OAAoB,sBAAsB,OAAO1H,EAA1CJ,EAAEF,EAAE0J,WAA2C,EAAOpJ,EAAEiG,OAAO,MAAM9D,GAAG,MAAMA,GAAG,MAAMA,GAAG,MAAMA,EAAEuH,EAAE/J,GAAllB,SAASD,GAAG,OAAOyC,EAAEzC,EAAE,IAAI8D,GAAE,SAAS9D,EAAEC,GAAG,IAAIC,EAAE,IAAI0K,WAAW1K,EAAE6H,OAAO,WAAW/H,EAAEE,EAAE2K,SAAS3K,EAAEgI,QAAQ,SAASlI,GAAGC,EAAED,IAAIE,EAAE4K,WAAWrI,MAAKyC,MAAK,SAASlF,GAAG,IAAIC,EAAEiK,EAAGlK,GAAG,OAAO8D,EAAE6B,OAAO1F,MAAK,IAAIwC,EAAgZsI,CAAG7K,IAAI4D,EAAEpD,QAAQV,EAAE0J,MAAM,IAAIzJ,EAAEC,EAAEuC,EAAEnC,MAAK0K,EAAG,SAAShL,EAAEC,EAAEC,GAAG,YAAO,IAASA,IAAIA,GAAE,GAAID,EAAEsK,EAAGvK,EAAEC,GAAGsJ,EAAEvJ,EAAE,GAAGE,GAAGgF,MAAK,SAASlF,GAAG,OAAOsK,EAAGtK,EAAEgI,QAAQgC,EAAEhK,EAAEgI,QAAQlE,EAAEpD,QAAQV,EAAE0J,UAASuB,EAAniG,SAAWhL,GAAG,OAAOC,EAAED,EAAE,IAAI6D,GAAE,SAAS9D,GAAG,IAAIC,EAAE,IAAI2K,WAAW3K,EAAEiL,UAAU,WAAWlL,EAAEC,EAAE4K,SAAS5K,EAAEkL,cAAcjL,MAAKgF,MAAK,SAASlF,GAAG,OAAOuI,EAAl8B,SAAWvI,GAAG,OAAOkG,EAAElG,GAAGkF,MAAK,SAASlF,GAAG,IAAIC,EAAEA,EAAED,EAAEmG,IAAIiF,gBAAgBnL,EAAEwG,KAAK,IAAIvG,EAAEuC,EAAEnC,EAAE0C,GAAGP,EAAEzC,GAAGqL,cAAc5I,EAAEY,OAAOnD,EAAEF,GAAGsL,eAAepL,EAAEoD,QAAQ,OAAOC,EAAEjD,GAAGkD,UAAUxD,EAAE,EAAE,GAAGM,KAAgxBiL,CAAEtL,GAAGA,EAAED,MAAK,IAAIE,GAAq4FsL,EAAG,SAASxL,GAAG,GAAG,MAAOA,EAAiB,MAAM,IAAIwB,MAAM,oCAAoC,MAAM,CAACiK,IAAIzL,IAAI0L,EAAqaF,EAAkFG,IAAI,oBAAoB5H,QAAQ6H,SAAS,eAATA,GAA2B,SAAS5L,EAAEC,GAAG,OAAOC,EAAE,SAASF,GAAG,OAAO,SAASA,EAAEC,GAAG,IAAIC,EAAEF,EAAEyL,IAAI,GAAG,IAAIvL,EAAE2L,SAAS,OAAM,EAAG,IAAIpJ,EAAEvC,EAAE,QAAeyB,IAAZc,EAAEqJ,QAAoB,OAAOrJ,EAAEqJ,QAAQ7L,GAAG,QAAyB0B,IAAtBc,EAAEsJ,kBAA8B,OAAOtJ,EAAEsJ,kBAAkB9L,GAAG,QAA6B0B,IAA1Bc,EAAEuJ,sBAAkC,OAAOvJ,EAAEuJ,sBAAsB/L,GAAG,QAA0B0B,IAAvBc,EAAEwJ,mBAA+B,OAAOxJ,EAAEwJ,mBAAmBhM,GAAG,MAAM,IAAIuB,MAAM,kCAAvU,CAA0WxB,EAAEC,IAAIqI,EAAEtI,EAAEyL,IAAIS,YAAW,SAASlM,GAAG,OAAOE,EAAEwL,EAAW1L,OAAM8B,IAAI4J,GAAY,IAAIxL,IAAIiM,GAAG5L,QAAQC,KAAKC,MAAMC,QAAQ,sBAAsB0L,GAAG7L,QAAQC,KAAKC,MAAMC,QAAQ,wBAAwB2L,GAAG9L,QAAQC,KAAKC,MAAMC,QAAQ,oBAAoB4L,GAAG,SAAStM,GAAG,OAAOA,EAAEuM,SAAS,qBAAqB,SAASC,GAAGxM,GAAG,IAAIC,EAAEC,EAAE,SAASuC,EAAEzC,GAAG,MAAM,eAAe0K,KAAK1K,GAAG,OAAOC,EAAED,EAAEyM,MAAMpJ,MAAMnD,EAAEF,EAAEyM,MAAMnJ,OAAOrD,GAAGC,EAAEuC,EAAExC,IAAIwC,EAAEvC,GAAG,CAACqD,EAAEmJ,SAASzM,EAAE,IAAI6C,EAAE4J,SAASxM,EAAE,KAAK,MAAMD,EAAED,EAAEqD,MAAMnD,EAAEF,EAAEsD,OAAOrD,GAAGC,EAAE,CAACqD,EAAEmJ,SAASzM,EAAE,IAAI6C,EAAE4J,SAASxM,EAAE,KAAK,MAAM,SAASyM,GAAG3M,GAAG,MAAM,CAACuD,EAAEvD,EAAEqL,aAAavI,EAAE9C,EAAEsL,eAAe,IAAIsB,GAAG,EAAEC,GAAG,SAAS7M,GAAG,OAAO2L,GAAGD,EAAW1L,GAAG,QAAQ8M,GAAG,SAAS9M,EAAEC,GAAG,OAAOD,EAAEyL,IAAItK,GAAGlB,EAAE,WAAW8M,GAAG,SAAS/M,EAAEC,GAAG,OAAOD,EAAEyL,IAAItK,GAAGlB,EAAE,sDAAsD+M,GAAG,SAAS/M,EAAED,GAAG,IAAIE,EAAE,SAASF,GAAG,OAAO+M,GAAG9M,EAAED,KAAKiN,GAAGhN,EAAED,IAAIkN,GAAGjN,EAAED,IAAI8C,EAAEwJ,GAAGrM,MAAM,OAAO6M,GAAG7M,EAAED,GAAG6M,GAAG7M,GAAGgC,MAAK,SAAShC,GAAG,OAAOE,EAAEF,EAAEyL,KAAK/I,EAAEC,KAAK3C,EAAEyL,KAAK/I,EAAEE,UAAS1C,EAAEF,GAAG0C,EAAEC,KAAK3C,GAAG0C,EAAEE,QAAQuK,GAAG,SAASnN,EAAEC,GAAGD,EAAEoN,oBAAoBvF,KAAK,CAACwF,KAAKpN,EAAEsG,KAAK,WAAW+G,GAAG,SAAStN,GAAG,IAAIC,EAAED,EAAEuN,UAAUC,UAAUtN,EAAEF,EAAEyL,IAAIgC,UAAUxN,EAAE,gBAAgB,OAAO,OAAOC,GAAG4M,GAAG9M,EAAEE,GAAG2M,GAAG3M,GAAG6M,GAAG/M,EAAEC,GAAGyC,EAAEC,KAAK+I,EAAWzL,IAAIyC,EAAEE,QAAQ8K,GAAG,SAAS1N,EAAEC,EAAEC,GAAG,IAAIuC,EAAExC,EAAE0N,MAAM,iDAAiD,OAAO7K,EAAEL,GAAGzC,EAAEyL,IAAImC,OAAOnL,EAAEvC,IAAI,MAAM+M,GAAG,SAASjN,EAAEC,GAAG,IAAIC,EAAED,EAAEwG,IAAI,OAAO,IAAIvG,EAAEyH,QAAQ,UAAU,IAAIzH,EAAEyH,QAAQ,UAAU,IAAI0E,GAAGnM,GAAG2N,OAAO7N,EAAE8N,gBAAgBD,MAAMX,GAAG,SAASlN,EAAEC,GAAG,OAAO,IAAIU,EAAEoN,QAAQ/N,EAAEuM,SAAS,wBAAwB,GAAG,YAAY,IAAIF,GAAGpM,EAAEwG,KAAKoH,OAAoXG,GAAG,SAAShO,EAAEC,GAAG,OAAOC,EAAEF,EAAE0C,EAAEG,KAAK3C,EAAEqM,SAAS,yBAAyB,KAAK,aAAarL,MAAK,WAAW,OAAnd,SAASlB,EAAEC,GAAG,GAAGiN,GAAGlN,EAAEC,GAAG,OAAO+K,EAAG/K,EAAEwG,IAAI,MAAMvG,EAAEF,EAAEyC,EAAExC,GAAG,IAAIU,EAAEoN,QAAQ7N,EAAEqM,SAAS,+BAA+B,GAAG,YAAY,IAAIF,GAAG5J,EAAEgE,KAAKoH,QAAQ,IAAI3N,EAAEuC,EAAEnC,EAAE,GAAG2M,GAAGjN,EAAEC,GAAG,OAAOyH,EAAEzH,GAAG,IAAIwF,EAAE6G,GAAGtM,GAAGY,EAAE6E,IAAI,IAAIA,EAAEkC,QAAQ,KAAK,IAAI,KAAK,OAAOgD,mBAAmB1K,EAAEwG,KAAK5F,GAAGP,EAAEN,GAAGuM,SAAS,UAAUjM,EAAEiM,SAAS,qBAAqB,GAAG,UAAU,UAAU,OAAOvB,EAAGpK,EAAEC,GAAE,GAAqHoN,CAAGjO,EAAEC,MAAI,SAASD,GAAG,OAAOA,EAAEC,MAAK,IAAIC,GAAGgO,GAAG,SAASlO,EAAEC,GAAG,IAAIC,EAAEF,EAAEmO,aAAaC,UAAUC,SAASpO,EAAEwG,KAAK,OAAOvG,EAAEkM,GAAG1L,QAAQR,EAAEwJ,QAAQsE,GAAGhO,EAAEC,IAAIqO,GAAG,SAAStO,GAAGmM,GAAGoC,aAAavO,EAAEI,QAAQoO,GAAG,SAAS3N,EAAEC,EAAEC,EAAEC,EAAEb,EAAEQ,EAAE6B,GAAG,OAAOzB,EAAEwG,SAASrC,MAAK,SAASlF,GAAG,IAAIC,EAAEC,EAAEI,EAAEmC,EAAE5B,EAAEsN,aAAaC,UAAU3I,EAAE9E,EAAE8F,IAAI7F,EAAEE,EAAEyF,OAAOvG,EAAEuG,KAAK,OAAO1F,EAAE0L,SAAS,yBAAwB,EAAG,aAAajM,EAAEmC,EAAE4L,SAAS5I,GAAGvF,EAAE4C,EAAExC,IAAImF,EAAEnF,EAAEmO,MAAMxO,EAAEK,EAAE8H,OAAO9H,EAAEoO,aAAazO,EAAEyN,GAAG7M,EAAE4E,EAAE,GAAGiI,GAAG7M,EAAE4E,EAAE,KAAKnF,EAAEmC,EAAEkM,OAAO,CAACC,GAAG,aAAahC,KAAKlD,KAAK1J,EAAE6O,OAAO9N,EAAE0H,WAAWgG,IAAIhJ,EAAE2C,KAAKnI,EAAEyO,SAAS9N,EAAEV,OAAEyB,IAAYc,EAAEqM,IAAIxO,GAAGO,EAAEkO,YAAYC,UAAS,WAAWnO,EAAEoO,EAAEtO,GAAGuO,GAAG,QAAO,SAASzM,IAAI,IAAIzC,EAAEC,EAAEC,EAAEW,EAAEoO,EAAEtO,GAAGwO,IAAI,OAAO1M,GAAG5B,EAAEuO,cAAcpO,EAAEH,EAAEsN,aAAakB,oBAAoBf,GAAGnO,GAAGH,EAAEa,EAAEZ,EAAEE,EAAED,EAAEiM,GAAGmD,iBAAiBtP,GAAE,WAAWA,EAAEmO,aAAakB,qBAAoBrP,EAAEuM,SAAS,wBAAwB,IAAI,WAAWtM,EAAEI,IAAIH,OAAMsC,GAAG3B,EAAEoO,EAAEtO,GAAG4O,KAAK,CAAClM,MAAMb,EAAEe,EAAED,OAAOd,EAAEM,IAAIjC,EAAEoO,EAAEtO,GAAG4O,KAAK,CAAC9I,IAAInG,EAAEkP,YAAYC,WAAW,mBAAkBnP,MAAKoP,GAAG,SAASjN,EAAEnC,EAAEN,EAAEyF,GAAG,OAAO,WAAW,OAAO6H,GAAG7K,GAAGvB,MAAK,WAAWiM,GAAG1K,EAAE,oCAAkC,SAASvC,GAAG,OAAOuC,EAAEkN,iBAAiBzK,MAAK,WAAW,OAAOgJ,GAAGzL,EAAEvC,EAAEuL,QAAOvG,MAAK,SAASjF,GAAG,OAAOgL,EAAGhL,GAAGiF,KAAKlF,GAAGkF,MAAK,SAASlF,GAAG,OAAOwO,GAAG/L,EAAExC,EAAED,GAAE,EAAGM,EAAEJ,EAAEuL,IAAIhG,SAAc,OAAE,SAASzF,GAAGmN,GAAG1K,EAAEzC,WAAS4P,GAAG,SAAS3P,EAAEC,EAAEuC,GAAG,OAAO,WAAW,IAAIzC,EAAEsN,GAAGrN,GAAGiB,MAAK,WAAW,OAAO,QAAM,SAASlB,GAAG,IAAIC,EAAEuM,GAAGxM,EAAEyL,KAAK,OAAOxL,EAAE,CAACsD,EAAEtD,EAAE6C,EAAEA,EAAE7C,EAAEsD,GAAG,QAAO,OAAOmM,GAAGzP,EAAEC,GAAE,SAASF,GAAG,OAAOiJ,EAAEjJ,EAAEyC,KAAIzC,EAAlC0P,KAAyCG,GAAG,SAAS7P,EAAEC,EAAEC,GAAG,OAAO,WAAW,OAAOwP,GAAG1P,EAAEC,GAAE,SAASD,GAAG,OAAO+I,EAAE/I,EAAEE,KAA9BwP,KAAmfI,GAAG,SAASrK,EAAE7E,GAAG,OAAO,WAAW,IAAI6B,EAAE6K,GAAG7H,GAAGnF,EAAEmC,EAAEX,KAAI,SAAS9B,GAAG,OAAO2M,GAAG3M,EAAEyL,QAAOhJ,EAAEV,MAAK,SAAS9B,GAAG+M,GAAGvH,EAAExF,EAAEwL,KAAK1J,MAAK,SAAS/B,GAAGkO,GAAGzI,EAAExF,EAAEwL,KAAKvG,MAAK,SAASlF,GAAG,IAAIC,EAAEC,EAAE,CAACwJ,KAAKzJ,EAAED,EAAE+P,IAAI5J,IAAIC,gBAAgBnG,IAAIwF,EAAEuK,cAAcnI,KAAK,CAACoI,MAAM,aAAaC,KAAK,QAAQC,KAAK,CAAC5J,KAAK,QAAQ6J,MAAM,CAAC,CAAC7J,KAAK,aAAa6B,KAAK,aAAaiI,MAAM,aAAaC,aAAapQ,KAAKqQ,QAAQ,CAAC,CAAChK,KAAK,SAAS6B,KAAK,SAASiF,KAAK,UAAU,CAAC9G,KAAK,SAAS6B,KAAK,OAAOiF,KAAK,OAAOmD,SAAQ,EAAGC,UAAS,IAAKC,SAAS,SAAS1Q,GAAG,IAAIE,EAAEF,EAAE2Q,UAAUC,WAAWlH,KAAKjH,EAAEV,MAAK,SAAS9B,GAAGK,EAAEyB,MAAK,SAAS/B,IAAngC,SAASC,EAAEC,EAAEU,EAAEC,EAAEC,GAAU2G,EAAE3G,GAAGoE,MAAK,SAASlF,GAAG,IAAIC,EAAEC,EAAEuC,EAAEnC,EAAEmF,EAAEkH,GAAG3M,GAAG,OAAOa,EAAE0C,IAAIkC,EAAElC,GAAG1C,EAAEiC,IAAI2C,EAAE3C,GAAG0J,GAAG5L,KAAKX,EAAEW,GAAGV,EAAEuF,KAAKhD,EAAExC,EAAEwM,MAAMpJ,MAAM/C,EAAEL,EAAEwM,MAAMnJ,QAAQb,GAAGnC,KAAKL,EAAEwM,MAAMpJ,MAAMnD,EAAEqD,EAAE,KAAKtD,EAAEwM,MAAMnJ,OAAOpD,EAAE4C,EAAE,KAAK7C,EAAE4Q,gBAAgB,mBAAmBpO,EAAExC,EAAEoD,MAAM/C,EAAEL,EAAEqD,QAAQb,GAAGnC,KAAKL,EAAE6Q,aAAa,QAAQC,OAAO7Q,EAAEqD,IAAItD,EAAE6Q,aAAa,SAASC,OAAO7Q,EAAE4C,OAAOqD,IAAIiF,gBAAgBpL,EAAEyG,KAAK3F,KAAIoE,KAAK+F,GAAI/F,MAAK,SAASlF,GAAG,OAAOwO,GAAGvO,EAAEa,EAAEd,GAAE,EAAGE,EAAEU,MAAY,OAAE,eAA4kBoQ,CAAGvL,EAAE7E,EAAEX,EAAEwL,IAAIzL,EAAEE,SAAOF,EAAEiR,SAASC,SAAS,aAAaC,SAAS,SAASnR,EAAEC,GAAG,OAAOA,EAAEmI,MAAM,IAAI,aAAanI,EAAEmR,MAAMpR,EAAEqR,OAAO,QAAQrR,EAAEsR,QAAQ,QAAQ,MAAM,IAAI,UAAUtR,EAAEsR,QAAQ,QAAQtR,EAAEsR,QAAQ,UAAU,MAAM,IAAI,SAAStR,EAAEqR,OAAO,yBAAsB/Q,EAAEwO,IAAI,cAAa,SAAS9O,GAAG,IAAIE,EAAED,EAAEwC,EAAEnC,EAAEmF,EAAE7E,EAAEC,EAAEC,EAAEC,EAAEZ,EAAE,GAAGa,EAAEb,EAAE,MAAMD,EAAEF,EAAEC,EAAEc,EAAEJ,EAAEoB,KAAK,CAACwP,mBAAmB3B,GAAG1P,EAAED,GAAG,IAAIuR,oBAAoB5B,GAAG1P,EAAED,EAAE,IAAIwR,qBAAqB5B,GAAG3P,EAAED,EAAE,KAAKyR,uBAAuB7B,GAAG3P,EAAED,EAAE,KAAK0R,aAAa7B,GAAG5P,EAAED,KAAI,SAASD,EAAEC,GAAGC,EAAE0R,WAAW3R,EAAED,MAAKM,EAAE,SAASN,GAAG,OAAO,WAAW,OAAOyC,EAAEoP,YAAY7R,MAAMyC,EAAEzC,GAAG8R,GAAGC,SAASC,UAAU,aAAa,CAACC,QAAQ,0BAA0BC,KAAK,cAAcf,SAAS7Q,EAAE,wBAAwBmC,EAAEqP,GAAGC,SAASC,UAAU,cAAc,CAACC,QAAQ,mBAAmBC,KAAK,eAAef,SAAS7Q,EAAE,yBAAyBmC,EAAEqP,GAAGC,SAASC,UAAU,QAAQ,CAACC,QAAQ,kBAAkBC,KAAK,kBAAkBf,SAAS7Q,EAAE,0BAA0BmC,EAAEqP,GAAGC,SAASC,UAAU,QAAQ,CAACC,QAAQ,oBAAoBC,KAAK,oBAAoBf,SAAS7Q,EAAE,4BAA4BmC,EAAEqP,GAAGC,SAASC,UAAU,YAAY,CAACC,QAAQ,aAAaC,KAAK,aAAaf,SAAS7Q,EAAE,gBAAgB6R,QAAQ,SAASlS,GAAG,IAAID,EAAE,WAAW,IAAIA,EAAEsN,GAAG7K,GAAGP,QAAO,SAASlC,GAAG,OAAOgN,GAAGvK,EAAEzC,EAAEyL,KAAKxK,YAAWhB,EAAEmS,YAAYpS,IAAI,OAAOyC,EAAEyM,GAAG,aAAalP,GAAG,WAAWyC,EAAE0M,IAAI,aAAanP,OAAOyC,EAAEqP,GAAGC,SAASC,UAAU,eAAe,CAACC,QAAQ,gBAAgBC,KAAK,QAAQf,SAAS7Q,EAAE,cAAcmC,EAAEqP,GAAGC,SAASM,eAAe,aAAa,CAACC,OAAO,SAAStS,GAAG,OAAOgN,GAAGvK,EAAEzC,GAAGkB,MAAK,WAAW,MAAM,MAAI,SAASlB,GAAG,MAAM,CAAC,CAACqN,KAAK,aAAa6E,KAAK,aAAaf,SAAS7Q,EAAE,yBAAwBmF,EAAEzF,GAAG8R,GAAGC,SAASQ,kBAAkB,aAAa,CAACnC,MAAM3K,EAAE8G,SAAS,qBAAqB,6DAA6DiG,UAAU,SAASxS,GAAG,OAAOgN,GAAGvH,EAAEzF,GAAGoB,UAAUqR,SAAS,OAAOC,MAAM,SAAS7R,EAAEE,EAAED,EAAEE,GAAGJ,EAAEZ,GAAGkP,GAAG,cAAa,SAASlP,GAAG,IAAIC,EAAEa,EAAEV,MAAMF,EAAE8M,GAAGpM,EAAEZ,EAAE2S,SAAS1S,IAAIC,EAAE+B,QAAO,SAASjC,GAAG,OAAOC,EAAEwG,MAAMzG,EAAEyG,SAAQ6H,GAAGzN,GAAGD,EAAEuN,aAAakB,mBAAmBvO,EAAET,IAAI,OAAOH,EAAE6B,KAAKjB,EAAET,WAA5lhB","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.6.2 (2020-12-08)\n */\n!function(){\"use strict\";var t,e,n,r,l=function(t){var e=t;return{get:function(){return e},set:function(t){e=t}}},o=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),d=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),i=function(){},u=function(t){return function(){return t}},a=u(!1),c=u(!0),f=function(){return s},s=(t=function(t){return t.isNone()},{fold:function(t,e){return t()},is:a,isSome:a,isNone:c,getOr:n=function(t){return t},getOrThunk:e=function(t){return t()},getOrDie:function(t){throw new Error(t||\"error: getOrDie called on none.\")},getOrNull:u(null),getOrUndefined:u(undefined),or:n,orThunk:e,map:f,each:i,bind:f,exists:a,forall:c,filter:f,equals:t,equals_:t,toArray:function(){return[]},toString:u(\"none()\")}),m=function(n){var t=u(n),e=function(){return o},r=function(t){return t(n)},o={fold:function(t,e){return e(n)},is:function(t){return n===t},isSome:c,isNone:a,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:e,orThunk:e,map:function(t){return m(t(n))},each:function(t){t(n)},bind:r,exists:r,forall:r,filter:function(t){return t(n)?o:s},toArray:function(){return[n]},toString:function(){return\"some(\"+n+\")\"},equals:function(t){return t.is(n)},equals_:function(t,e){return t.fold(a,function(t){return e(n,t)})}};return o},g={some:m,none:f,from:function(t){return null===t||t===undefined?s:m(t)}},h=function(t){return!(null===(e=t)||e===undefined);var e},v=(r=\"function\",function(t){return typeof t===r});function p(t,e){return b(document.createElement(\"canvas\"),t,e)}function y(t){var e=p(t.width,t.height);return w(e).drawImage(t,0,0),e}function w(t){return t.getContext(\"2d\")}function b(t,e,n){return t.width=e,t.height=n,t}var I,T,_,R,U=window.Promise?window.Promise:(I=function(t){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof t)throw new TypeError(\"not a function\");this._state=null,this._value=null,this._deferreds=[],C(t,A(E,this),A(L,this))},T=window,_=I.immediateFn||\"function\"==typeof T.setImmediate&&T.setImmediate||function(t){setTimeout(t,1)},R=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},I.prototype[\"catch\"]=function(t){return this.then(null,t)},I.prototype.then=function(n,r){var o=this;return new I(function(t,e){x.call(o,new k(n,r,t,e))})},I.all=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var c=Array.prototype.slice.call(1===t.length&&R(t[0])?t[0]:t);return new I(function(o,i){if(0===c.length)return o([]);for(var u=c.length,t=0;t<c.length;t++)!function a(e,t){try{if(t&&(\"object\"==typeof t||\"function\"==typeof t)){var n=t.then;if(\"function\"==typeof n)return void n.call(t,function(t){a(e,t)},i)}c[e]=t,0==--u&&o(c)}catch(r){i(r)}}(t,c[t])})},I.resolve=function(e){return e&&\"object\"==typeof e&&e.constructor===I?e:new I(function(t){t(e)})},I.reject=function(n){return new I(function(t,e){e(n)})},I.race=function(o){return new I(function(t,e){for(var n=0,r=o;n<r.length;n++)r[n].then(t,e)})},I);function A(t,e){return function(){return t.apply(e,arguments)}}function x(r){var o=this;null!==this._state?_(function(){var t,e=o._state?r.onFulfilled:r.onRejected;if(null!==e){try{t=e(o._value)}catch(n){return void r.reject(n)}r.resolve(t)}else(o._state?r.resolve:r.reject)(o._value)}):this._deferreds.push(r)}function E(t){try{if(t===this)throw new TypeError(\"A promise cannot be resolved with itself.\");if(t&&(\"object\"==typeof t||\"function\"==typeof t)){var e=t.then;if(\"function\"==typeof e)return void C(A(e,t),A(E,this),A(L,this))}this._state=!0,this._value=t,j.call(this)}catch(n){L.call(this,n)}}function L(t){this._state=!1,this._value=t,j.call(this)}function j(){for(var t=0,e=this._deferreds;t<e.length;t++){var n=e[t];x.call(this,n)}this._deferreds=[]}function k(t,e,n,r){this.onFulfilled=\"function\"==typeof t?t:null,this.onRejected=\"function\"==typeof e?e:null,this.resolve=n,this.reject=r}function C(t,e,n){var r=!1;try{t(function(t){r||(r=!0,e(t))},function(t){r||(r=!0,n(t))})}catch(o){if(r)return;r=!0,n(o)}}function O(t){var r,e=t.src;return 0===e.indexOf(\"data:\")?S(e):(r=e,new U(function(t,n){var e=new XMLHttpRequest;e.open(\"GET\",r,!0),e.responseType=\"blob\",e.onload=function(){200===this.status&&t(this.response)},e.onerror=function(){var t,e=this;n(0===this.status?((t=new Error(\"No access to download image\")).code=18,t.name=\"SecurityError\",t):new Error(\"Error \"+e.status+\" downloading image\"))},e.send()}))}function P(a){return new U(function(t,e){var n=URL.createObjectURL(a),r=new Image,o=function(){r.removeEventListener(\"load\",i),r.removeEventListener(\"error\",u)};function i(){o(),t(r)}function u(){o(),e(\"Unable to load data of type \"+a.type+\": \"+n)}r.addEventListener(\"load\",i),r.addEventListener(\"error\",u),r.src=n,r.complete&&i()})}function S(n){return new U(function(t,e){(function(t){var e=t.split(\",\"),n=/data:([^;]+)/.exec(e[0]);if(!n)return g.none();for(var r=n[1],o=e[1],i=atob(o),u=i.length,a=Math.ceil(u/1024),c=new Array(a),f=0;f<a;++f){for(var s=1024*f,l=Math.min(1024+s,u),d=new Array(l-s),m=s,h=0;m<l;++h,++m)d[h]=i[m].charCodeAt(0);c[f]=new Uint8Array(d)}return g.some(new Blob(c,{type:r}))})(n).fold(function(){e(\"uri is not base64: \"+n)},t)})}function M(t,r,o){return r=r||\"image/png\",v(HTMLCanvasElement.prototype.toBlob)?new U(function(e,n){t.toBlob(function(t){t?e(t):n()},r,o)}):S(t.toDataURL(r,o))}function B(t){return P(t).then(function(t){var e;e=t,URL.revokeObjectURL(e.src);var n,r,o=p((r=t).naturalWidth||r.width,(n=t).naturalHeight||n.height);return w(o).drawImage(t,0,0),o})}var N=P,D=O,F=function(t,e){return function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return g.some(i);if(n(i,r))break}return g.none()}(t,e,a)};function H(t,e,n){var r=e.type;function o(r,o){return t.then(function(t){return n=o,e=(e=r)||\"image/png\",t.toDataURL(e,n);var e,n})}return{getType:u(r),toBlob:function(){return U.resolve(e)},toDataURL:u(n),toBase64:function(){return n.split(\",\")[1]},toAdjustedBlob:function(e,n){return t.then(function(t){return M(t,e,n)})},toAdjustedDataURL:o,toAdjustedBase64:function(t,e){return o(t,e).then(function(t){return t.split(\",\")[1]})},toCanvas:function(){return t.then(y)}}}function q(e){return n=e,new U(function(t){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(n)}).then(function(t){return H(B(e),e,t)});var n}function z(e,t){return M(e,t).then(function(t){return H(U.resolve(e),t,e.toDataURL())})}function $(e,n){return e.toCanvas().then(function(t){return function(t,e,n){var r=p(t.width,t.height),o=w(r),i=0,u=0;90!==(n=n<0?360+n:n)&&270!==n||b(r,r.height,r.width);90!==n&&180!==n||(i=r.width);270!==n&&180!==n||(u=r.height);return o.translate(i,u),o.rotate(n*Math.PI/180),o.drawImage(t,0,0),z(r,e)}(t,e.getType(),n)})}function G(e,n){return e.toCanvas().then(function(t){return function(t,e,n){var r=p(t.width,t.height),o=w(r);\"v\"===n?(o.scale(1,-1),o.drawImage(t,0,-r.height)):(o.scale(-1,1),o.drawImage(t,-r.width,0));return z(r,e)}(t,e.getType(),n)})}var J=G,K=$,V=Object.keys,W=function(e,r,o){return void 0===o&&(o=!1),new U(function(t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&t({status:n.status,blob:n.response})},n.open(\"GET\",e,!0),n.withCredentials=o,function(t,e){for(var n=V(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}}(r,function(t,e){n.setRequestHeader(e,t)}),n.responseType=\"blob\",n.send()})},X=[{code:404,message:\"Could not find Image Proxy\"},{code:403,message:\"Rejected request\"},{code:0,message:\"Incorrect Image Proxy URL\"}],Q=[{type:\"not_found\",message:\"Failed to load image.\"},{type:\"key_missing\",message:\"The request did not include an api key.\"},{type:\"key_not_found\",message:\"The provided api key could not be found.\"},{type:\"domain_not_trusted\",message:\"The api key is not valid for the request origins.\"}],Y=function(t,e){var n,r,o=(n=function(t,e){return h(t)?t[e]:undefined},r=t,function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}(e,function(t){r=n(r,t)}),r);return g.from(o)},Z=function(t){var e,n=(e=t,\"ImageProxy HTTP error: \"+F(X,function(t){return e===t.code}).fold(u(\"Unknown ImageProxy error\"),function(t){return t.message}));return U.reject(n)},tt=function(e){return F(Q,function(t){return t.type===e}).fold(u(\"Unknown service error\"),function(t){return t.message})},et=function(t){return\"ImageProxy Service error: \"+function(t){try{return g.some(JSON.parse(t))}catch(e){return g.none()}}(t).bind(function(t){return Y(t,[\"error\",\"type\"]).map(tt)}).getOr(\"Invalid JSON in service error message\")},nt=function(t){return r=t,new U(function(t,e){var n=new FileReader;n.onload=function(){t(n.result)},n.onerror=function(t){e(t)},n.readAsText(r)}).then(function(t){var e=et(t);return U.reject(e)});var r},rt=function(t){return t<200||300<=t},ot=function(t,e){var n,r,o,i={\"Content-Type\":\"application/json;charset=UTF-8\",\"tiny-api-key\":e};return W((r=e,o=-1===(n=t).indexOf(\"?\")?\"?\":\"&\",/[?&]apiKey=/.test(n)?n:n+o+\"apiKey=\"+encodeURIComponent(r)),i).then(function(t){return rt(t.status)?(e=t.status,n=t.blob,r=e,\"application/json\"!==(null==(o=n)?void 0:o.type)||400!==r&&403!==r&&404!==r&&500!==r?Z(e):nt(n)):U.resolve(t.blob);var e,n,r,o})},it=function(t,e,n){return void 0===n&&(n=!1),e?ot(t,e):W(t,{},n).then(function(t){return rt(t.status)?Z(t.status):U.resolve(t.blob)})},ut=q,at=function(t){if(null===t||t===undefined)throw new Error(\"Node cannot be null or undefined\");return{dom:t}},ct={fromHtml:function(t,e){var n=(e||document).createElement(\"div\");if(n.innerHTML=t,!n.hasChildNodes()||1<n.childNodes.length)throw console.error(\"HTML does not have a single root node\",t),new Error(\"HTML must have a single root node\");return at(n.childNodes[0])},fromTag:function(t,e){var n=(e||document).createElement(t);return at(n)},fromText:function(t,e){var n=(e||document).createTextNode(t);return at(n)},fromDom:at,fromPoint:function(t,e,n){return g.from(t.dom.elementFromPoint(e,n)).map(at)}},ft=(\"undefined\"!=typeof window||Function(\"return this;\")(),function(t,e){return n=function(t){return function(t,e){var n=t.dom;if(1!==n.nodeType)return!1;var r=n;if(r.matches!==undefined)return r.matches(e);if(r.msMatchesSelector!==undefined)return r.msMatchesSelector(e);if(r.webkitMatchesSelector!==undefined)return r.webkitMatchesSelector(e);if(r.mozMatchesSelector!==undefined)return r.mozMatchesSelector(e);throw new Error(\"Browser lacks native selectors\")}(t,e)},F(t.dom.childNodes,function(t){return n(ct.fromDom(t))}).map(ct.fromDom);var n}),st=tinymce.util.Tools.resolve(\"tinymce.util.Delay\"),lt=tinymce.util.Tools.resolve(\"tinymce.util.Promise\"),dt=tinymce.util.Tools.resolve(\"tinymce.util.URI\"),mt=function(t){return t.getParam(\"imagetools_proxy\")};function ht(t){var e,n;function r(t){return/^[0-9\\.]+px$/.test(t)}return e=t.style.width,n=t.style.height,e||n?r(e)&&r(n)?{w:parseInt(e,10),h:parseInt(n,10)}:null:(e=t.width,n=t.height,e&&n?{w:parseInt(e,10),h:parseInt(n,10)}:null)}function gt(t){return{w:t.naturalWidth,h:t.naturalHeight}}var vt=0,pt=function(t){return ft(ct.fromDom(t),\"img\")},yt=function(t,e){return t.dom.is(e,\"figure\")},wt=function(t,e){return t.dom.is(e,\"img:not([data-mce-object],[data-mce-placeholder])\")},bt=function(e,t){var n=function(t){return wt(e,t)&&(Rt(e,t)||Ut(e,t)||h(mt(e)))};return yt(e,t)?pt(t).bind(function(t){return n(t.dom)?g.some(t.dom):g.none()}):n(t)?g.some(t):g.none()},It=function(t,e){t.notificationManager.open({text:e,type:\"error\"})},Tt=function(t){var e=t.selection.getNode(),n=t.dom.getParent(e,\"figure.image\");return null!==n&&yt(t,n)?pt(n):wt(t,e)?g.some(ct.fromDom(e)):g.none()},_t=function(t,e,n){var r=e.match(/(?:\\/|^)(([^\\/\\?]+)\\.(?:[a-z0-9.]+))(?:\\?|$)/i);return h(r)?t.dom.encode(r[n]):null},Rt=function(t,e){var n=e.src;return 0===n.indexOf(\"data:\")||0===n.indexOf(\"blob:\")||new dt(n).host===t.documentBaseURI.host},Ut=function(t,e){return-1!==d.inArray(t.getParam(\"imagetools_cors_hosts\",[],\"string[]\"),new dt(e.src).host)},At=function(t,e){if(Ut(t,e))return it(e.src,null,(n=t,r=e,-1!==d.inArray(n.getParam(\"imagetools_credentials_hosts\",[],\"string[]\"),new dt(r.src).host)));var n,r,o;if(Rt(t,e))return D(e);var i=mt(t),u=i+(-1===i.indexOf(\"?\")?\"?\":\"&\")+\"url=\"+encodeURIComponent(e.src),a=(o=t).getParam(\"api_key\",o.getParam(\"imagetools_api_key\",\"\",\"string\"),\"string\");return it(u,a,!1)},xt=function(t,e){return n=t,g.from(n.getParam(\"imagetools_fetch_image\",null,\"function\")).fold(function(){return At(t,e)},function(t){return t(e)});var n},Et=function(t,e){var n=t.editorUpload.blobCache.getByUri(e.src);return n?lt.resolve(n.blob()):xt(t,e)},Lt=function(t){st.clearTimeout(t.get())},jt=function(a,c,f,s,l,d,m){return f.toBlob().then(function(t){var e,n,o,r=a.editorUpload.blobCache,i=d.src,u=c.type===t.type;return a.getParam(\"images_reuse_filename\",!1,\"boolean\")&&(o=r.getByUri(i),n=h(o)?(i=o.uri(),e=o.name(),o.filename()):(e=_t(a,i,2),_t(a,i,1))),o=r.create({id:\"imagetools\"+vt++,blob:t,base64:f.toBase64(),uri:i,name:e,filename:u?n:undefined}),r.add(o),a.undoManager.transact(function(){a.$(d).on(\"load\",function r(){var t,e,n;a.$(d).off(\"load\",r),a.nodeChanged(),s?a.editorUpload.uploadImagesAuto():(Lt(l),t=a,e=l,n=st.setEditorTimeout(t,function(){t.editorUpload.uploadImagesAuto()},t.getParam(\"images_upload_timeout\",3e4,\"number\")),e.set(n))}),m&&a.$(d).attr({width:m.w,height:m.h}),a.$(d).attr({src:o.blobUri()}).removeAttr(\"data-mce-src\")}),o})},kt=function(r,o,t,i){return function(){return Tt(r).fold(function(){It(r,\"Could not find selected image\")},function(n){return r._scanForImages().then(function(){return Et(r,n.dom)}).then(function(e){return ut(e).then(t).then(function(t){return jt(r,e,t,!1,o,n.dom,i)})})[\"catch\"](function(t){It(r,t)})})}},Ct=function(e,n,r){return function(){var t=Tt(e).fold(function(){return null},function(t){var e=ht(t.dom);return e?{w:e.h,h:e.w}:null});return kt(e,n,function(t){return K(t,r)},t)()}},Ot=function(t,e,n){return function(){return kt(t,e,function(t){return J(t,n)})()}},Pt=function(e,n,u,a,c){return N(c).then(function(t){var e,n,r,o,i=gt(t);return a.w===i.w&&a.h===i.h||ht(u)&&(e=u,(n=i)&&(r=e.style.width,o=e.style.height,(r||o)&&(e.style.width=n.w+\"px\",e.style.height=n.h+\"px\",e.removeAttribute(\"data-mce-style\")),r=e.width,o=e.height,(r||o)&&(e.setAttribute(\"width\",String(n.w)),e.setAttribute(\"height\",String(n.h))))),URL.revokeObjectURL(t.src),c}).then(ut).then(function(t){return jt(e,c,t,!0,n,u)})[\"catch\"](function(){})},St=function(i,u){return function(){var r=Tt(i),o=r.map(function(t){return gt(t.dom)});r.each(function(e){bt(i,e.dom).each(function(t){Et(i,e.dom).then(function(t){var e,n={blob:e=t,url:URL.createObjectURL(e)};i.windowManager.open({title:\"Edit Image\",size:\"large\",body:{type:\"panel\",items:[{type:\"imagetools\",name:\"imagetools\",label:\"Edit Image\",currentState:n}]},buttons:[{type:\"cancel\",name:\"cancel\",text:\"Cancel\"},{type:\"submit\",name:\"save\",text:\"Save\",primary:!0,disabled:!0}],onSubmit:function(t){var n=t.getData().imagetools.blob;r.each(function(e){o.each(function(t){Pt(i,u,e.dom,t,n)})}),t.close()},onCancel:function(){},onAction:function(t,e){switch(e.name){case\"save-state\":e.value?t.enable(\"save\"):t.disable(\"save\");break;case\"disable\":t.disable(\"save\"),t.disable(\"cancel\");break;case\"enable\":t.enable(\"cancel\")}}})})})})}};o.add(\"imagetools\",function(t){var n,e,r,o,i,u,a,c,f=l(0),s=l(null);n=t,e=f,d.each({mceImageRotateLeft:Ct(n,e,-90),mceImageRotateRight:Ct(n,e,90),mceImageFlipVertical:Ot(n,e,\"v\"),mceImageFlipHorizontal:Ot(n,e,\"h\"),mceEditImage:St(n,e)},function(t,e){n.addCommand(e,t)}),o=function(t){return function(){return r.execCommand(t)}},(r=t).ui.registry.addButton(\"rotateleft\",{tooltip:\"Rotate counterclockwise\",icon:\"rotate-left\",onAction:o(\"mceImageRotateLeft\")}),r.ui.registry.addButton(\"rotateright\",{tooltip:\"Rotate clockwise\",icon:\"rotate-right\",onAction:o(\"mceImageRotateRight\")}),r.ui.registry.addButton(\"flipv\",{tooltip:\"Flip vertically\",icon:\"flip-vertically\",onAction:o(\"mceImageFlipVertical\")}),r.ui.registry.addButton(\"fliph\",{tooltip:\"Flip horizontally\",icon:\"flip-horizontally\",onAction:o(\"mceImageFlipHorizontal\")}),r.ui.registry.addButton(\"editimage\",{tooltip:\"Edit image\",icon:\"edit-image\",onAction:o(\"mceEditImage\"),onSetup:function(e){var t=function(){var t=Tt(r).forall(function(t){return bt(r,t.dom).isNone()});e.setDisabled(t)};return r.on(\"NodeChange\",t),function(){r.off(\"NodeChange\",t)}}}),r.ui.registry.addButton(\"imageoptions\",{tooltip:\"Image options\",icon:\"image\",onAction:o(\"mceImage\")}),r.ui.registry.addContextMenu(\"imagetools\",{update:function(t){return bt(r,t).fold(function(){return[]},function(t){return[{text:\"Edit image\",icon:\"edit-image\",onAction:o(\"mceEditImage\")}]})}}),(i=t).ui.registry.addContextToolbar(\"imagetools\",{items:i.getParam(\"imagetools_toolbar\",\"rotateleft rotateright flipv fliph editimage imageoptions\"),predicate:function(t){return bt(i,t).isSome()},position:\"node\",scope:\"node\"}),a=f,c=s,(u=t).on(\"NodeChange\",function(t){var e=c.get(),n=bt(u,t.element);e&&!n.exists(function(t){return e.src===t.src})&&(Lt(a),u.editorUpload.uploadImagesAuto(),c.set(null)),n.each(c.set)})})}();"]}